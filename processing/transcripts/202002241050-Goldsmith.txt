So what I'm gonna do is try to talk like quickly and focus on the things that I think are actually important and and like we're all gonna listen, it's a friendly environment, it's all gonna be great, this is gonna be a lot of fun. So what I'm gonna talk about is functional data methods for accelerometer data. I'm gonna talk mostly about some analyses that we've done in the past. I'm not gonna go into technical details. If you want to talk about those, I'm happy to, but mostly I sort of want to give you an idea about how I have thought about accelerometer data in the past and sort of how Data in the past and sort of how we've used it. Is this the thing that clicks? Yes. All right. So, like I say, I'm going to cover a lot and then I'm going to close with what I sort of hope to work on. And I'm going to lead off with some acknowledgments. Because I'm talking about a variety of different projects, there are a lot of different people who have worked on different parts of these. I've got good collaborators at Columbia and some of this, that's sort of the top row. And then the second row, third row is a project that had to do, I'll talk about NARF, Daniel and Taki were collaborators on that. Taki were collaborators on that. I've worked quite a bit with Jennifer Schrack and Vadim Zapunikov on data that comes from the Baltimore Longitudinal Study on Aging, as well as with Julia, and I think she's going to be talking about that in a couple of days. It's going to be great. Y'all should definitely be ready for Thursday. And what I'm going to talk about, some of this data comes from the Columbian Children's Center, some of it comes from the Mass Hypertension Study, some of it comes from the Baltimore Longitudinal Study on Aging. There are a variety of different data sets, and I'll sort of use these to illustrate points that I think are interesting at different times. And I'm going to start out and say that a lot of what Start out and say that a lot of what we talk about in wearable devices, a lot of what I am going to talk about specifically have to do with accelerometers, but there are a variety of devices that you might be interested in. One of the ones that we have worked on, and I think has a different structure from what a lot of others have seen, is the ambulatory blood pressure cuff, which is, gosh, just an awful thing. It's a blood pressure cuff and it inflates every half hour for 24 hours, even while you're asleep. And people wear this for like days in a row and then come back and do it again six months later. Come back and do it again six months later. So, we've applied some of the same functional data perspectives to the ambulatory blood pressure cuff, and I'm happy to talk more about that, but that's mostly not what I'm going to focus on for today. What I am going to focus on are data that look roughly like this. This is data, I think, that comes from the Baltimore Longitudinal Study on Agent. And I'm just sort of showing activity counts over the course of 24 hours, and I'm assuming that everybody is pretty familiar with this kind of data structure. And the way that I'm going to approach this is using functional data analysis. Is using functional data analysis. And this is just sort of a statistical framework that I kind of like working on. I'm not saying it's the best or the only way that you could deal with accelerometer data, but it's one that I like, and I think we get some interesting things out of that. So a tentative definition, I would say, for functional data analysis is roughly observations on subjects where you can at least think of having for each subject some complete function. So I'm thinking about that accelerometer profile, that 24 hours of data, rather than being a vector of individual observations, I'm just thinking about that as a I'm just thinking about that as a complete observation, like one unit of observation for each person, and it's sort of indexed continuously by time. And I sort of think that things that are adjacent in time ought to be more related to each other than things that are far away in time. And like I say, this is notational. It's sort of a conceptual framework. We don't actually get something that's measured continuously. You get the sort of vector of observations, but it's helpful when you're thinking about the kinds of analyses that you might want to do. At least that's what I think. And given this framework, what we're And given this framework, what we're interested in doing is statistics, meaning the kinds of things that you would generally do with statistics. You want to take means, you want to take variances, maybe you need dimension reduction, you'd like to do regression. Those are the kinds of things that we would like to do, but now we're going to sort of do it in the context where the basic unit of observation is, say, a 24-hour profile. And I'm going to start out. I'm going to spend a lot of the time talking about function on scalar regression. And our motivation for this actually came from a paper, gosh, from 2014 now. Gosh, from 2014 now, where what we were interested in was looking in sort of a descriptive way, and I say we, this is a paper that Jennifer Shrack wrote with Vadim Zapunikov, a variety of other people, including Chikrin and I and Jiawei. There's a lot of people at this thing who are on this paper. We've been working together a long time. That's nice. What this sort of indicates is if you sort of do a descriptive analysis of people who are in the Baltimore Longitudinal Study on Aging and you look at the youngest age group, and we're just sort of looking at the Youngest age group, and we're just sort of looking at the median activity profile in that group. What is the sort of minute-by-minute median value? You see that the youngest people are the most active, and then the second block is a little bit less active, and then there's sort of a steep drop-off. And you start to see, especially in the afternoon, but also early in the day, that as people get older, they start being less active. And that's not super surprising. But this, I would say, is a descriptive analysis where we haven't sort of asked what other things are going on with these participants. Is there anything else that might be driving this association? Else that might be driving this association? What about, in addition to age, what about gender? What about retirement status? What about other kinds of things that might be interesting? And so instead, what we're going to try to do is address those questions in a framework that is a little bit more familiar. We're going to build a regression model to try to deal with these 24-hour activity profiles as an outcome, but then answer the kinds of questions about confounding and association and significance that you would generally like to ask if you were going to do this sort of an analysis. And switching gears. And switching gears, I'm not going to be talking about the Baltimore Longitudinal Study on Aging. The actual analysis I'm going to present comes from a study of 420 kids who wore accelerometer devices who lived in northern Manhattan and the Bronx, and we had a variety of demographic information on these kids. And basically, we wanted to know what are the things that characterize or what are the determinants of physical activity in this sort of a population. And so, we have things like the child demographics. We know their age and sex and BMI. We know some stuff about their behaviors. A lot of the behaviors. Stuff about their behaviors. A lot of the behaviors are self-reported, so we know from their parents how much TV do they watch, how much video games do they play. We know things about the mother's demographics in particular: was she born in the U.S., how old is she, education level, does she work in the home, other things like this. We also know like what season it is. Is it nice outside or is it not nice outside? And what we want to know is whether or not all of those things tell us something useful about physical activity. Our collaborators had first taken that 24 hours and like compressed it down to a one number. How much activity does a person get over the course of time? Much activity does a person get over the course of 24 hours? But the problem with that is that you've taken 24 hours of data and compressed it down to a single number. So, what we tried to do instead is model those covariate effects on the activity patterns. So, the regression model, like the sort of key idea is this one, where instead of fitting a single scalar outcome, the total number of active minutes or something like this, that depends on age and BMI, we want that full 24-hour activity profile to now depend on age and BMI. So, basically, what I'm Age and BMI. So basically, what I'm saying is my outcome is going to depend on time, and my coefficients are going to depend on time. And I'd like to estimate all of this in some kind of a framework and then get a sense, does the effective age at 10 a.m. differ from the effective age at 5 p.m.? What about watching TV? What about some of these other things? That's sort of the key idea is: can I build a model that allows me to look at those 24-hour activity profiles? I'm going to skip to results. Like, the short answer is, sure, you can do that. Like the short answer is: sure, you can do that. We've done it, lots of other people have done it. There are ways that you can build these regression models. What I would sort of want to point out are the kinds of results that maybe come out of this. So, in the top row, I'm showing the physical activity data for boys and girls. This is in the summertime, and this is in the wintertime. And what we sort of see is if you wanted to know what is the difference between boys and girls in the summer, there is a big, pretty significant, these are 95% confidence intervals, there's a big, pretty significant difference between boys and girls in the summertime. Boys and girls in the summertime, but if you take a look at what's going on in the wintertime, it's much, much attenuated. There's hardly any difference between boys and girls in the winter. This is now coefficients that are coming out of a regression model. These are confidence intervals that are sort of supported by the framework that we're working on, and these are adjusting for some other variables that you might think are interesting here. We also looked at things like TV use and whether or not the mom was born in the United States. And whether or not the mom was born in the United States. And TV use we thought was pretty interesting. We asked: are these kids wearing, or sorry, are these kids watching TV for more than two hours a day, and how does that affect their physical activity? Not surprisingly, kids who watch more than two hours of TV a day are less active. What we thought was useful about this is that you can see that that difference between watching two hours of TV or not is very time-specific. It's not spread out over the course of the day. It's in the evening, kids who are watching two or more hours of TV come home from school. Hours of TV, come home from school or dinner or whatever, and they sit down in front of the TV and that's what they do. And the people who aren't watching so much TV are actually out doing some stuff. I'm going to skip past this. You can get p-values. They're sometimes kind of interesting. What I'm going to talk about instead is an approach for dimension reduction. Again, sort of thinking about this in the context of functional data. We've got these 24-hour activity profiles, and we'd like to know sort of what interesting patterns are existing in here. And I'm going to focus in particular on normal. Focus in particular on NARF. NARFT, I don't even remember what it stands for, is non-negative and regularized functional decompositions. So the idea here is that instead of trying to do something like principal components analysis, we want to borrow ideas from non-negative matrix factorization. If what we're dealing with are a bunch of physical activity profiles, we know that kids are at least zero active and it sort of builds up from there, then what we would like to do is use some non-negative factorization where you get some. Where you get some positive component, say strictly positive component, and strictly positive loading, and that those things should together give you some idea about what patterns of variation exist in this population. It's different from principal components analysis. It may be less parsimonious than principal components analysis. All of the sort of caveats that go from non-negative matrix approaches to principal components are going to be here as well. But that's sort of what we wanted to do. So, again, I'm going to skip past a couple of things and just point out what these components look like. So, the top row are the sort of patterns of activity that we extract from, in this case, I think it was the Baltimore Longitudinal Study on Aging. And what we see are things like there's a peak of activity in the morning, maybe another one a little after that, there's something in the afternoon, there's something in the mid-morning, and then this one that's sort of like pre- and post-dinner. And what we think here is that these basis functions that we have extracted, these direct. Basis functions that we have extracted, these directions of variation, we hope, are at least a little bit more interpretable than the kinds of things that you get out of principal components analysis. And I'm not going to go into why I think that's the case, but I think that's the case. And so our hope is that we get some information about what patterns of activity you observe in a population like this one. All right, so that, like I say, I covered a lot of slides real fast, and what I'm going to close on is: first, if there's any of this stuff that you're sort of interested in, This stuff that you're sort of interested in working on, I'm more than happy to work with you on that kind of thing. But beyond that, one of the things that I've worked on way back and am now sort of interested in again is whether or not you can use the physical activity data as predictors of some other health outcome. So here I've sort of said, like, can we use age and BMI and other demographic information to tell you something about physical activity? But I would also like to know, can I use I would also like to know: can I use six months of physical activity data to tell me something about long-term survival outcomes? What are the relevant things that need to be extracted, and how might you need to go about doing that? I think that's a question that I was initially skeptical about asking, but am now sort of much, much more interested in. So if people are sort of thinking in that same direction, let me know. I'm also, like I say, always interested in working on software development. We've got a variety of packages. So one of them is sort of a framework for doing tidy. Sort of a framework for doing tidy functional data analysis. Julia Robel is the maintainer on Refund and also wrote Refund Shiny, which gives sort of nice ways of doing interactive visualizations of functional data analyses. We also, in the space of about three days, wrote the Cheer package. I don't know if anybody has seen Cheer on Netflix. If you haven't, it's fantastic. And if you find yourself thinking that what you need is somebody to cheer you on while you're writing code, you can write cheer, cheer, and somebody's going to cheer for you. You. That's definitely something that I think was a good use of our time. All right. That's all I got. Thank you very much. So for the last point in May, are you thinking about mediation analysis, or you're just looking at the last arrow from physical activity? For which, the what predicts long-term outcomes? Long-term outcomes. Yeah, well, I guess I hadn't thought so much about that, even, but I think, well, so, you know, I think the first impulse for a lot of people who do functional data analysis, if you have physical activity data, is to try something like a usual scalar on function regression, which makes a lot of assumption about how the timing of activity affects what the actual outcome is. And I don't think a lot of those assumptions. Is. And I don't think a lot of those assumptions are really well justified. I don't know that I have a really good sense of what are the things that happen in physical activity that ought to be predictive of outcomes. And I'm also not sure that I have, you know, a lot, personally, a lot of data that would say, given the observations that I have from an accelerometer, do I have health outcomes at a reasonable time interval that I could make some kind of prediction that I care about? I do think that doing something like mediation analysis would be interesting. Like mediation analysis would be interesting and worthwhile, but that wasn't exclusively what I had in mind. Jeff, what was your experience with the omega de factorization? I didn't quite pull that part. Yeah, so when you say what was my experience, you mean like how did it work in practice? Did you get something that was interesting and better than PCA or just complementary? So, what we found with the principal components analysis was that. Was that you find in a principal components analysis that you get like directions of variation that include both positive and negative features, right? So that if you wanted to say, like, how do I interpret the first principal component? Well, maybe it's more activity in the morning and less activity in the afternoon. And the second one is active in the morning and then not in the active in the afternoon, but a whole lot in the evening. And interpreting those components we found was at least a little bit less straightforward. We found was at least a little bit less straightforward than being able to look at these non-negative factors that just say this factor is associated with activity in the morning, and this factor is associated with activity in the afternoon, and this one is associated with activity in the evening. So it was, like I say, not so much that it was more efficient in decomposing the data, but we thought it was a lot easier to look at the directions of variation and know what it was they were decomposing. How about the ability of those components? How about the stability of those components? Yeah, so good question. Non-negative matrix factorization is the kind of thing that at least some people are pretty skeptical of because it is not identifiable. What we found in simulations was that it was able to reconstruct the factors that actually generated the data in all of the simulations that we ran. In the real data analysis, we tried starting from random starting points and seeing how consistent the prototype. The prototypes we're calling of how consistent were those across random starts of our algorithm. And they were generally pretty consistent across 10 or 15 or 20 random starts. So stability, I'd say pretty good, but definitely it's one of the things that you would have to be concerned about using this kind of an approach. How do we need to make sure that you have the same starting point? What do you mean, make sure you have the same starting point? The initialization of the The initialization of the algorithm? Yeah, I think that would. I think if you use the same initialization, you're going to get the same results every time, at least on the same data set. But we were as concerned as anything about what happens if you don't have the same starting point. Do you sort of find the same solution? And generally speaking, yeah, you do. At least in this data set. So what about the computations just in the sense of decomposing these matrices? These are big covariance matrices? Is that archives or so? That's a good question. One of the things that we have tried to do recently when doing these dimension reduction approaches is to avoid having to compute that covariance matrix at all. So when it comes time to estimate either the non-negative matrix approach or if we're doing principal components analysis, instead of saying that I've got a 1400 by 1400 covariance matrix, we just sort of say I've got eight principal components that I want to. Eight principal components that I want to estimate, and this is the structure that they have. And so we're going to estimate those in either a probabilistic or a Bayesian or a maximum likelihood approach to avoid having to do that matrix decomposition and inversion and all of the above. Yeah. Could you elaborate more on your experience with using summary measures versus uh the functional approach? Yeah, so um and not like just one s summary measure photo activity count, but the different variety. About the different variety? Yeah. So I think the perspective that I have is depending on what you're interested in, they're both valid things to be looking at. I mean, if you have a summary measure that you care about, fantastic. And even if that summary measure is something like total activity over a 24-hour period, great. What I think the functional data approach gives you is the time-specific information that might be relevant. And so I like to sort of think about the does your Does your kid watch two or more hours of activity, or sorry, two or more hours of TV a day? What we learned from that is not just that kids who watch a lot of TV are less active, but we learned very specifically when they are less active, which gives us some insight into what kind of an intervention you might want to use to promote physical activity in that group, right? So that we're not like telling the parents, yeah, your kid watches a lot of TV, he or she should be more active. We're saying, oh, your kid watches a lot of TV, that is Your kid watches a lot of TV, that is probably in this time window, and that's when you should be a little bit more proactive about finding something that's physically active for them to do instead. So, I think where the functional data approaches give you some advantage is when time-specific information is going to be relevant to whatever question you're trying to answer or whatever thing you're trying to solve. That's not always the case, and sometimes total activity really is the only thing that you're interested in, in which case you just compute total activity and call it done. Total activity and call it done. Or whatever other sort of summary measure you're interested in. How did you measure the television at the time? So that, again, like that self-report from the parent about the child. We probably could have come up with something better, but that was not the main sort of focus of this study. It was demographic information that our collaborators collected because they thought it might be useful. So maybe we should stop here and then Jeff of course will continue.