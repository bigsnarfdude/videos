But we're all learning, right? And I learned a lot while trying to put together slides that were related to censored surrogates. So I work on surrogate markers, validating surrogate markers. So the goal of my talk in this 30 to 40 minutes is going to be to explain the problem and talk about ideas. So I want to talk about the surrogate market. So, I want to talk about the surrogate marker problem and the current landscape, how censored covariates can cause a problem, and then what the open problems are. I'm not going to talk about any of this stuff. So, throughout, I'll have some math, but it'll be minimal math. I'm not going to talk about asymptotic properties, variance estimation, confidence intervals, no simulation, not about the R packages. So, in terms of like Tanya's. In terms of like Tanya's first professional development thing that Tanya had with us, and she talked about desire and trust, my goal here is desire, to give you desire. If you don't trust me, there's a long list of publications and the references here. You can go look at those publications, all the theories there. There's a lot of stuff. But I'm not trying to convince you that I'm smart. I'm just trying to explain the problem. Okay, so what's the surrogate market? Okay, so what's the surrogate marker? The basic idea behind a surrogate marker is it's something that can replace the primary outcome. So you're in a clinical trial setting, let's say, and you're interested in looking at the effect of a treatment or an intervention on some primary outcome. Let's say the primary outcome takes a long time to observe. So you observe it at time little t, let's say it's time to heart attack. So the question would be, instead of waiting five or ten years, whatever that little t. Or 10 years, whatever that little T is, can I instead estimate and test for a treatment effect at some earlier time point, T0, using a surrogate marker? That's like something measured in the blood or some kind of other physical measurement. So in that case, you'd be able to make a decision about the treatment sooner, right? So you get the treatment, if it's effective, out to patients sooner, or if it's not effective, you move on to testing something else. You move on to testing something else. In the second example, so a surrogate marker is not necessarily something that you measure earlier. It could be something that's just less costly or less invasive. So you may measure it at the same time, but still the idea is that in some future study, you'd be able to only measure the surrogate marker instead of a primary, whatever the primary outcome was. So I have one clinical, pediatric clinical trial where the primary outcome. Clinical trial where the primary outcome is obtained via liver biopsy. So the kids already have to get a liver biopsy, a baseline for eligibility into the study. But it'd be great if we could avoid a repeat biopsy at the end of the study and instead look at the treatment effect on these like blood markers that measure liver function. Well, it turns out that that's not a good story yet, but that was the idea is to avoid either an outcome, measuring an outcome that's invading. Outcome, measuring an outcome that's invasive or burdensome for the patient or expensive. Okay, so I have a rainbow here because this is kind of the whole promise of surrogate markers. In these trials that often require long-term follow-up or expensive follow-up, a surrogate marker that we could use to replace the primary outcome would let us make decisions about the treatment effect sooner. Holy grail. So we could have shorter randomized trials or less expensive ones. Randomized trials or less expensive ones, and just generally accelerate treatment decision making, which we all want. Okay, so this is kind of what I said in pictures. So we're assuming in an analytic framework that we have some study A that has been done. Like I have study A information, and I have information about the surrogate measurement and the primary outcome. Maybe it's earlier, maybe it's the same time. And I want to use. And I want to use that study A to validate my surrogate marker. What that means, I'll talk about more. But basically, use that study to say, yes, this is a good surrogate marker, so that then I can conduct a future study D and not measure the primary outcome at all, but just measure the surrogate marker and test for a true concept. That's the whole idea. In this talk, I'm focused on study A. We're in study A trying to validate the surrogate marker. Oh, that was my highlighted one. Okay, so here are some clinical examples. So in the first one, which is when I'll talk about the primary outcome is time to diabetes diagnosis. And the interventions that are examined are metformin and then a lifestyle intervention, which cared to PC both. The potential surrogate markers of interest were change in hemoglobin A1C, glucose, and BMI. Glucose and BMI. This is a very popular idea in dementia research. So, here the primary outcome is time to dementia onset. Obviously, might take a very long time to observe depending on your patient population. So, some earlier potential surrogate markers are markers derived from brain image or cognitive score of some kind. I'm going to talk more about this example soon. And lastly, a lot of the earlier work. Lastly, a lot of the earlier work on surrogate markers, especially statistical work, was really motivated by AIDS research and a lot of the ACTG studies. So the primary outcome here was usually disease progression, like an AIDS defining event, and the surrogate marker was usually C4 cell count. Okay, so some regulatory background, again, convincing you why you should care. So at least in the U.S., the FDA does. In the U.S., the FDA does approve drugs early based on demonstrated effectiveness on a surrogate marker. It's called the Accelerated Approval Program. They do require that the clinical trial continue to see the effect on the primary outcome, but they will approve it early. You can market it early based on the surrogate marker. But they don't really say what a surrogate marker is. So this is text pulled directly from their documentation. Directly from their documentation, where they say a surrogate endpoint is something that is either known to predict clinical benefit or reasonably likely to predict clinical benefit. And a lot of the surrogate markers that are approved fall in here, reasonably likely. Okay, so some examples. FDA originally approved this drug, Giardians, for people with type 2 diabetes. You might see the commercial for this. It's very popular. There's like dancing. This is very popular. There's like dancing people, and usually I play it, but I don't have time because it's interesting. In the commercial, the commercial says this drug will reduce your hemoglobin A1c. Like it targets, it's like targeting the, the advertisement is like for the surrogate marker. And then they're like, oh, and also it'll reduce your risk of cardiovascular. But anyway, it was approved early based on results showing it did lower blood glucose. Continued the trial. Continued the trial and then subsequently approved after results showing that it reduced the risk of cardiovascular death. So that's a good example. Sorry, Marker. Yes. This might be an extreme example. Well, you might be getting a bit. I was wondering if that ever doesn't happen. Oh, yes. Okay. Excellent. My next question. Perfect. So, you may have heard, and it's not new, this has happened multiple times. Here's a recent drug, adducanamab. Drug aducanamab, I hope I'm saying that right, that was approved for Palsy-Nurse disease, that was shown to reduce visible plaque in the brain, which is considered a surrogate outcome. It is listed, so FDA has a table of surrogate outcomes. Technically, they say it's a table of drugs that have been approved based on a surrogate. They have put those surrogates into it. They have put those surrogates into a table. That doesn't actually mean that they're surrogates. But anyway, this particular plaque is listed as a surrogate. So they approved it early, kept during the trial, and then there was no noticeable effect on patient outcomes. This has been super controversial. It's been really interesting from a policies perspective to watch. So it's approved or approved stock prices for this company, like Prices for this company like shoot up. Then the results come out, the stock prices go down. FDA says, Well, we're not going to pull the drug. They often don't pull it just because of this, unless it's like showing harm. So they say they're not going to pull it. Stock prices go back up. Then Medicare says they're not going to cover it. Stock prices go back up. Private companies follow suit. So, yes. Oh, sorry, my question was like. Yes. Sorry, my question might be spirit, but I try to understand your what you are trying to do. Do you know so you already know some of the potential surrogate markets, but or you are trying to identify what are the potential surrogate markets? Or you are trying to find when is time T0 so that you can measure those surrogate. I'm trying, I'm assuming someone comes to me and says, I think this is a surrogate. Can you tell me? I think this is a surrogate. Can you tell me if it's a good surrogate or not? That's it. So, your work is trying to identify what those surrogate markets are and then not focus on the time t. Well, not in this talk. We do have a paper where we focus on identifying the optimal time t, especially if you have a longitudinal surrogate that's measured over time. What's your optimal time t, like the earliest time point you can stop? But that's not a problem. But I'm happy to. But I'm happy to talk about it more. Okay. There's also an example with antiarrhythmia drugs. That's the biggest one that's cited where it was approved. These antiarrhythmia drugs in like the 80s or 90s were approved based on showing effectiveness on a surrogate marker and then it like killed you killed 50,000 people in the United States. There's a book about it. It's called Deadly Medicine. It's really good. Called Deadly Medicine. It's really good. That's like the worst possible case for a surrogate marker. So very important to do this correctly. Okay, but so far, still no good definition, right? Hopefully you have a sense of what a good surrogate should be. Here's one definition, still not statistical, but I'm still going to give it. So a physical measurement, such as a biomarker, clinical measurement, or psychological test that can be used in therapeutic trials as a substitute. In therapeutic trials as a substitute that's expected to predict the effect of the therapy. Again, getting back to that picture that I talked about. So, here's a more statistical definition that even though there's a lot of controversy around how to validate surrogate markers and not everyone agrees with this Prentice paper, everyone pretty much cites this Prentice paper from 1989. So, he proposed that a criterion be that a valid Criterion B, that a valid surrogate should be such that a test for treatment effect on the surrogate marker also be a valid test for the treatment effect on the primary output. So motivated by that, really building from that, there's been many different frameworks in terms of validating a survey marker. The proportion of treatment effect explained framework, which I kind of lump with the indirect effects and direct effects. Indirect effects, the direct effects framework, which is going to sound familiar if you are familiar with mediation. The causal effect predictiveness curve, which is like principles ratification, causal inference kind of stuff. Information theory, which is like information theoretic framework, and then the analytic framework. So, while there is no agreement on one method, I do think we would all agree that the meta-analytic framework. That the mana-analytic framework is kind of the gold standard. So that's like if you have 50 different trials and they all have a treatment effect on the stove marker and a treatment effect on the primary outcome, it's just we never have 50 clinical trials or 30 clinical trials or even 10 clinical trials to do that. I have one clinical trial. So I haven't really looked at that approach very much. But I'm going to focus on number one. On number one, the next one has that highlighted. I'm going to focus on that for now. Happy to talk about the others more if you're interested. Oh, and this paper is a really good paper. It's like a review of a whole things. Okay, so a little bit of notation. I'm assuming a randomized study, so randomized clinical trial. Y is the primary outcome, S is a surrogate marker, G is my treatment indicator, and I'm going to use this potential outcomes notation. Potential outcomes notation. Of course, I only observe comparings for group to which someone was assigned. So, Prentiss suggested in that paper I mentioned that a surrogate should be able to capture the dependence of the primary outcome on treatment. So, basically, the surrogate, a good surrogate, should capture a large proportion of the true treatment effect on the primary outcome. Motivated by this, people Motivated by this, people kind of focused on this idea of how do we define and estimate this proportion of the treatment effect on the primary outcome that's explained by the treatment effect on the surrogate marker. That's very long, so I'm just going to say PTE or proportion explained. So in 1992, Friedman proposed a super simple approach where you just fit two regression models. So in the first So, in the first one, right, your Y is your outcome. Your only predictor in the model is the treatment. Then you fit a second model where you just throw in the surrogate marker and you look at how much the regression coefficient for treatment changed. So if in the first one, your treatment effect coefficient was like very big and significant, and then in the second one, it's like nothing that really feels like surrogates capturing your treatment effect, right? Very much like mediation again. Lots of things wrong with this approach. Lots of things wrong with this approach. Many papers, including my own, have shown why this can go wrong. Minimally, if these models don't hold, it's not clear what you're even estimating, and things can go very wrong. In the survival setting, if you do cost-proportional hazards models here, it's impossible for these two models to hold simultaneously. So, just like not good. But, that being said, this. But that being said, this is still used all the time. Like 2024, there's papers coming out that still use this because it's so intuitive and it's so appealing to applied researchers. And anyone, like, even any undergrad at the end of STAT 101 can fit these two models and calculate those bar, right? So I have focused in the last 10 years on how we can do this better rather than like, let's take. Better rather than like, let's get some other metrics and things like that. But people like this PT measure, and I'm just trying to do it better. Not just me, other people. Okay, so 2002, Wong and Taylor proposed a different way of thinking about this proportion quantity by thinking about contrast between the actual treatment effect and the residual treatment effect. So, this is like indirect effect, direct effect stuff. So, the actual treatment effect. So, the actual treatment effect is delta, just the difference in the expected primary outcome between the two groups. And the residual treatment effect is this idea of the hypothetical treatment effect when the distribution of the surrogate under the treatment is the same as the distribution of the surrogate under the control. What does that look like in math? So, this is just expected difference in the primary outcome in the two groups, given that I forced the surrogates to look the same. Force the surrogates to look the same in the two groups. I need to integrate with respect to some reference distribution. Here I choose the reference distribution for the control group. You can choose the treated group. You can choose a pooled distribution of the two. Your causal interpretation will change depending on that reference distribution, but I like the controller. So the proportion of treatment effect explained is delta minus delta S, right? Because delta S is like. Right? Because delta S is like the leftover effect after you account for the effect on S. So delta minus delta S is what's explained by S divided by delta. So nicely here, this proportion, unlike the Friedman approach, like the Friedman approach, the definition of R was based on the regression coefficients. Like it was based on the model. Here, my definition, there's no models, it's all like expected values. Expect thoughts. And like I already said, similar to the direct and indirect effects. Okay, so this is very nice. Decomposes the treatment effect into these two pieces. Simple to implement at least the regression approach. So you can show that if you basically assume a regression model here, which is what the Long and Taylor paper does. In certain cases, it will be equivalent to the Friedman approach, like if there's no interaction between the surrogate and the treatment. Yes? Yeah, so I force them to be the same in terms of like defining this delta S. If the surrogate is a perfect. Surrogate is a perfect surrogate, then this delta S should be zero, right? Okay. And so the surrogate is good if Rs is higher? Yes. Okay. Thank you. Should have said that. Yeah. The surrogate is good if Rs is one. It's perfect if RS is one. I never expect it to actually be one. Oh, yes. So is that comment that in practice y could be like y? Or does it matter? It does matter. Yeah, so when Y is binary and S is binary, the problem's a lot easier. People have kind of already done that. With what I'm about to show, you can still do it when Y is binary and S is continuous. I focus on Y continuous and S continuous because that's what I tend to have. And then I'll talk about Y. And then I'll talk about Y as a survival outcome and S, as continuous or as an outcome itself. Okay, so we have the single number summary, R, so that's very nice. And estimation, there are parametric and non-parametric approaches to estimate this, which I'm going to talk more about. Okay, so to estimate delta, like that's not hard, right? That's randomized trials. Randomized trial, so delta is just the average of Y in the treated group minus the average of Y in the control group, and I'm done. Delta S is harder, so I can write out my residual treatment effect in these two terms. I need this assumption, which we can have a whole argument about if we want to, but this is an identifiability assumption that I need to be able to break up this integral into these two integrals. integral into these two integrals. It's also called sequential admirability. But once I do that, then I have this piece, which I already have, right, as the average of the primary outcome in the control group. So it's really just estimating that first integral. Yeah. Would you, I mean, how about you can just go from the first interval to the second? How can the meditative of the condition assume it's no small assumption? This is a big assumption, not unique to my approach. Yeah, this is basically saying I'm allowed to take out the same no matter which group you are. Your potential outcome. Potential outcome. Yeah. So the why is that can certainly be. Yeah. So the Y's I can certainly break up. That's fine. But it's really why can I take the S out of here? Why can I take the S0 out of here? Why can I take the S1 out of here? And that's this assumption. Yes. Just surrogate one, zero, are they always different or sometimes they are the same variable? Um like for a particular person? Yeah. Well so this is basically the sort So this is basically the circuit under different treatment, right? Treatment one and zero. Yeah. So only the same variable, the same measurement, the same quantity, let's say? So I never measure S1 and S0 on the same person. I just have it for, like if they're in the treatment group, I have their S1. If they're in the control group, I have their S0. And they would be the two different values of the same variable, right? They're not similar, actually, because they are. Not see that actually because they're apothecical. It's only if you're given a treatment, you can see S for that specific treatment and you're going to miss for the other treatment because you're not assigned to the other treatment. But implicitly applying that, you're implying that if you have given the two treatments to the same person, you see both S1, SC. Yeah, for example, it is the blood pressure that people are measuring regardless of the treatments, right? So that it is, to me, it is one variable. Of one variable, but or yeah, like I would always measure your blood pressure, yeah, and so I have your blood pressure. And if you were in the treated group, then that's S1. But if you were in the control group, that's S and the other one's missing. Yeah. So the treatment is randomized? Treatment is randomized. But you don't you you don't need assumptions that the surrogate the effect of the surrogate on the The effect of the surrogate on the outcome is not confounded? That's in here. It's in here, but where are the covariates? They're all. So for this to be true, you essentially need there to be, you can't have like a W that's a confounder for S and Y. I definitely don't have confounders. I don't have any confounders for treatment and Y or for Missouri and Y because it's a randomized trial, but I wouldn't have anything. But I wouldn't have anything that excludes the possibility of a confounder for S and Y, except for this and for some other assumptions that are comfortable. So you are assuming there is no confounding between S and Y. That's quite strong. I know. I know. It's coming. It's coming. It's coming, guys. Okay. Okay. So here, estimation. I just need to estimate this. You know, it's not that bad, right? We can just, the inside here, this is just a. Just the inside here, this is just a single S, univary S. I can just estimate this conditional mean with your like Nodaria-Watson conditional mean estimator and integrate with respect to the empirical distribution of the surrogate in the control group, which is just what X2. So non-parametric estimate of delta hat S. This is what we proposed a while ago. It works really well. Obviously, much better than the parametric approach when the model still holds. Approach when the model still colds. Okay, here's a little example. We had a study of an intervention which promoted home-based walking exercise for peripheral artery disease participants. Our primary outcome was change in distance walked in six minutes at 12 months post-intervention that was measured on site. And the surrogate was a self-reported limitation, which was from a questionnaire, which is an interesting surrogate because you avoid Interesting surrogate because you avoid making these people come back to the office, which they often just don't come back. And it's much cheaper to just do it by survey instead of having to have a physician or a nurse watch them walk this distance. So when we use our non-parametric approach, we got an estimated proportion or percentage of 44%. The model-based approach was 17%. Now, what's a good surrogate? Now, what's a good surrogate? Well, this is not very far from the 1 or 100%. There's also no agreement on what's the threshold for a good surrogate. Some people will say a point estimate above 0.5, a point estimate above 0.75, a lower confidence interval bound above 0.5, above 0.75. Controversial, but any of those cases you take, this is not a good surrogate marker. But in the context of this workshop, right, I have. Context of this workshop, right? I have 15% of my people who dropped out before I could even measure the surrogate. And for this analysis, I just did a complete case analysis. I just ignored them. So I don't really know what to do with people who are missing the surrogate. I haven't done any work in that area. If I'm missing the outcome, right, I can just do like some multiple imputation. But missing the surrogate is a little bit harder because it's very convenient, right? Because it's very unusual, right? So if I'm missing the surrogate and I'm missing the outcome, or I'm missing the surrogate and I observed the outcome, understanding whether that multiple imputations should include why is like unclear to me. And that's what we were talking about. And just like two nights ago, I was Googling papers that are about imputing a mediator, because that's essentially that. But I haven't seen any. But I haven't seen anyone that has proposed how to do this in the surrogate framework. So if anyone wants to work on that, let me know. Okay. But also, my method and other methods assume that we have no heterogeneity, which is basically this concept that the surrogate could be useful for some people but not useful for others, just like regular treatment effect, heterogeneity, right? But this is talking about a surrogate. So, how do we test for heterogeneity is an important question, and this is especially important to understand if the surrogate is going to be used for its purpose, the whole point of what we're talking about, which is to replace the primary outcome in a future study. So this is my earlier graphic, but like a little bit busier. So now I have this study A and I have some baseline covariate W. And I'm wondering if this surrogate is maybe only. This surrogate is maybe only good for, like maybe it's only valid for old people, but not young people, or women, but not men. And this is basically having a W that's a confounder, right? You have a W that's affecting both the surrogate and the primary outcome. And if its relationship to both of those is such that the surrogate may be a good replacement for some, but not for some. Replacement for some, but not for others. Things can go very wrong in your future trial, study B, where you're replacing the primary outcome, because now you have to make some assumptions about transportability, right? We talked about that, transportability from one study to another study and designing this future study. If your people here look different from your people here, and your surrogate strength is different depending on the characteristics of the people, Characteristics of the people, things can go really wrong. So if it's only good for women, but not for men, and then this whole study is all men, and you replace the primary outcome with the surrogate, things can, like, at best, you'll have low power, but that's at best. Okay, so in math, this is not that complicated, right? We just need to define everything now as a function of w. So the delta of w is like your. So the delta of W is like your traditional treatment effect heterogeneity. And my delta S of W is now just everything I had before, but conditional on W. So if W is just a single covariate like H, we do two-dimensional smoothing. It's more than a single covariate, we do some dimension reduction and then smoothing. But you can essentially get this estimate of the proportion explained. Estimate of the proportion explained as a function of W. Okay, but in some of my data, I have baseline covariates like at baseline, did they have a previous MI, previous stroke, or have they had a diabetes diagnosis? And from what I've learned from this workshop, I think that actually these may be centered covariates because in the diabetes data that I have, I Diabetes data that I have, I actually do have the age at their first MI and the age at stroke and the age of their diagnosis diagnosis at baseline. So if they have it after that, I don't know it. I think that's a censored covariate, right? Online. Okay. So there's an open problem. Censored covariates in the surrogate setting. So this is not a censored surrogate. This is not a censored surrogate, right? This is a censored covariate. But again, very important in terms of actually using the surrogate in a future study. Because if I have heterogeneity with respect to this centered covariate, I need to know that when I'm replacing the survey, replacing the primary outcome in the future set. Do you have a question? Oh. Okay, just not spend that much time on this, but we've done all. That much time on this, but we've done all of this, all of it, for the case when the primary outcome is a time-trive outcome. And here, instead of S being just some single surrogate marker measurement, it's either a measurement at some, like measure at that time T0, or it might be an outcome itself that's either observed at some point between baseline and T0 or censored at T0. Censored at T0. The treatment effect now is just, I mean, you can have any treatment effect you want. The one we focus on is difference in survival at some time T. And same picture as before, except I explicitly put a little T0. So my goal in the future study is to stop my study at T0 and use any information I've observed up to T0 on both the surrogate. On both the surrogate, either the surrogate marker or the surrogate outcome, and the primary outcome, right? So, if the primary outcome happens over here, I also want to use that in terms of testing for a treatment effect. So, it just gets much more complicated because you have to think of not just your surrogate at T0, but this idea of like, what's your surrogate information at T0? That's the whole idea is like, you want to know if I look at all the To know, if I look at all the information at T0, is this capturing the treatment effect? So that's going to include primary outcomes that occur before T0. And notice the primary outcome sensors our ability to measure the surrogate because it's usually death. So if somebody dies, I can't then measure their surrogate like five months later. Even if it's not death, usually it's something where then they start some treatment, and so measuring the surrogate. So measuring the surrogate, five minutes, yes. Measuring the surrogate is just not going to be useful. But the idea is the same. You're defining this treatment effect, this leftover treatment effect, and you're getting this proportion explained. And if it's closer to one, then that surrogate information is a good replacement. So the estimation is like, you know, all non-parametric stuff and complicated, but it works out. So, just I'm going to skip that example, but there's a diabetes example. Okay, so is the problem solved in this time to event outcome setting? So, I can handle sensoring before T0. I have like inverse probability weights. I can handle sensoring between T0 and T, and I can handle censoring of the story by the primary outcome before T0. I don't know how to handle a missing surrogate, but like somebody survives past T0, but I somehow don't have their surrogate at T0 in the diabetes example. They're just left out. I also have some strong assumptions that I need about censoring, independent sensoring, and these similar identifiability assumptions, which essentially rule out a confounder between. A confounder between S and Y. And again, the whole thing I just explained with heterogeneity with respect to a censored covariate in the non-time-driven outcome setting is the same thing here. Okay, so as far as I could tell, some open problems. In the censored setting, because I just talked about it, so I listed first, missing surrogate, how to handle a missing surrogate, like really how to impute that. How to impute that missing surrogate appropriately, what to do when those censoring assumptions don't hold in the uncensored setting, just generally how to handle a missing surrogate, and in both, how to deal with that heterogeneity and understanding whether I gain anything by looking at heterogeneity with respect to the censored covariate versus heterogeneity just respect to the 0, 1 covariate. I'm not sure if I would really gain anything. And that is what I think. About three minutes for questions.