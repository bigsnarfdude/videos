Accelerometry. I'm going to talk about different type of device today, continuous glucose monitors. I know that a lot of you are already familiar with this type of device, but I think a lot of people are not. So I would like to start with the basics. Here we go. So this device usually comes in the context of diabetes. There are two main types: type 1 and type 2. Type 2 is much more prominent. Typically, it's in older adults. It's in older adults. Type 1 typically have a very early onset. And the idea of diabetes is that it affects the normal cycle of how we eat food, get carbohydrates, get glucose, and then use insulin to transfer that glucose into the energy that we can use later on. So the reason this is a big deal is because in diabetes you have elevated levels of glucose and that long-term Glucose and that long-term leads to nerve damage. It also has a lot of risk, and this is by no means an exhaustive list of different complications. And so, to avoid that, you usually want to have an improved glucose control. And I'm putting in red the word improved because I think this could be argued about what that actually means. And in terms of what's the treatment that is used, it's important to differentiate the types. So, if you have type 1, they cannot produce any insulins. They cannot produce any insulin, so tailored insulin administration is the primary measure of control. And for type 2, which is usually older population, typically it's diet and exercise, although insulin administration can be possible as well. The most standard assessment is levels of hemoglobin HVA1C. That wouldn't be relevant for what I'm talking about later, but that's just for the context. Alright, so before we go into how those look like, I want to start with. Look like. I want to start with diabetes affects glucose levels, so it's important to be able to measure what the glucose is. And for the patients that have diabetes, most common way to assess it is the finger pricks. So the idea is that they prick their finger, they put the blood on this little test strip, then they insert the test strip in the meter, and then the meter tells them what the glucose value is. And if you are type 1, typically you would do it four times a day, one time before each. A day, one time before each of the meals, and then one more time before you go to bed. If you're in type 2, I believe the typical doctor's recommendation is once per day, but I know many people in type 2 don't do that. So four times a day at the most. Now, what's important, oh, before I go there, this will be somewhat relevant to one of the challenges. I'm not going to talk about it in a lot of detail, but this is another wearable device. So, this is the insulin. So, this is the insulin pump, and this is the manual insulin administration. So, this is relevant if you have type 1. So, each time you measure, you need to administer insulin. So, here you have a very little tiny needle. You adjust how many insulin units you want to have, and you make it into this area typically. Or you can have an insulin pump, which has a little tiny needle over here. You can program, then pump, and then it will have, you will get insulin. You will get insulin much more frequently, but it will be in a smaller amount. And actually, some of the data that comes has data from this pump as well, which would also be continuous. How to integrate that would be another question, but I'm not going to go into that today. All right, so I think for those of you who are not familiar with this data, before we start looking at what the data from patients with diabetes looks like, it's really important to understand what we would expect. What we would expect sort of a healthy glucose profile to look like. And this is taken from Wikipedia, so not the best source, but actually, Wikipedia took it from someone else, which is a much more reliable source. But generally, the idea is that you wake up, you have breakfast, you have a glucose spike. You continue, you have lunch, you have another spike. You continue, you have dinner, you have another spike. You go to bed, and your glucose goes down. And so there are certain things to keep in mind. The standard unit. Things to keep in mind: the standard units of measurements for normal you would expect to be between 70 and 120 milligrams per deciliters. So just kind of remember those numbers. It's a very non-linear trend, and you would expect to see spikes as a result of milk intake. And the shape of the spike and the height of the spike will be highly dependent on what type of meal you have. And in general, it's not just the meals, but the whole profile is high. The meals, but the whole profile is highly dependent on environmental factors. So if you exercise, you use a lot of energy, so your glucose will go down. If you're stressed, it affects. I don't actually know how, but I know it has an effect. And sleep quality has been shown to have effect, et cetera, et cetera. So if the normal people have a profile that looks like this, and now you have at most four fingerprints a day, which is 14. Pricks a day, which is four time points, on this profile, you don't learn very much. You don't really get to see what the glucose looks like. This is where the CGMs come in. So CGMs stand for continuous glucose monitors, and they allow to measure the glucose values very, very often. So here I have two devices. This is DEXCOM G4. There is now Dexcom G6, so this is pretty old. But that's the device used to now. But that's the device used in our study. This is the Abbott-Lieber device. They both go right over here. They're about the size. They have a little tiny needle that's in you. You don't really feel it. I actually wore this one for four days. You don't feel it at all. It just gets cheap. So this one measures glucose every five minutes. This one measures glucose every 15 minutes. And so, because they measure it so often, these devices can. So often, these devices can potentially be paired with the pump that I showed before, and that will create a closed-loop system, which is also called artificial pancreas. So, in the ideal world, your device, the CGM, will tell the pump what the measurement is. The pump will decide how much insulin to give you. The device will measure what the response was. And again, the pump will decide how much insulin to give you. Furthermore, because we now have this full 20%, we have to do this. Because we now have this full 24-hour profile, we now can much better understand what's the deviation from a healthy person. And both of those are potentially, very much potentially, because there's a lot, a lot of challenges in maximizing this potential. And what I'm going to show today is not actually what I've done. I'm happy to talk about what I've done too. But I want to show some of the data and some of the challenges that I'm really interested in trying. Challenges that I'm really interested in trying to address. Any questions so far? Great. So, this data actually comes from the Hypno study, the APIO that studies Naresh Punjabi from John Hopkins University. I got to play with this data through Chiprian, who is from here. Yacek Urbanek also got to look at this data before. This data comes from subjects with type 2 diabetes, and they were not on insulin therapy. And they were not on insulin therapy. This is important because I don't need to worry about them injecting insulin at some points in time and how that would affect the profile. They have DEXCOM G4. They also have ABBA data, but for simplicity, I'm only focusing on this monitor. It has a little bit higher frequency. It's a little bit easier to see. In this context, we actually had accelerometer data as well that was collected using ActiWatch. And what we use so And what we use so far is we use this data to infer the sleep periods. So, if you're familiar with the ActiWare software, it will give you sort of this blue identification of what are the inferred sleep periods, and that's what we use. So, to give you sort of a better idea, this is one particular subject. It's around two weeks of data. What you can see is the red, which is the wake periods. Wake periods and the blue, which were octigraphy-inferred sleep periods. And just to kind of remind you, normal healthy person, you would expect something between 70 and 120. Here we start at 70, we go to around 270. Some of it is part due to the spike, but a lot of it is still really high. All right, so again, this is what So again, this is what we expect the glucose profile to look like. We would expect to see free peaks associated with free meal intakes. We would expect that during the sleep it's going down. This is what my data looks like. This is four different subjects, 24-hour periods. For reference, I'm having a vertical line at the start of the estimated sleep onset. So you can see the sleep in the blue. The sleep in the blue. And in this particular study, the meal content is unknown, the meal times are unknown. And if I try to average this data across 24 hours, I'm pretty sure that those visual peaks that I can see very clearly will be completely distorted, even if I try to do it for one subject. So, what we kind of did is we calculated a lot of the summary measures that I have. Lot of the summary measures that are available in the diabetic literature based on essentially treating this whole functional profile as just a huge vector of numbers and calculating things like mean, standard deviation. There's a lot of other metrics. But I find it really unsatisfying and I personally would really like not to throw this red part but try to do something with the peaks. So potential solutions, discussions. I think the easy answer you just cannot do anything. Easy answer, you just cannot do anything. I think there is actually some hope, and I have a backup slide to convince you that there is some hope. And what I'm interested in discussing, and seeing maybe some of you have ideas, if we can potentially try to register this data or a line that speaks. And the reason I think there is some hope is because we do have this estimated sleep information. Rather than registering by 24 hours, we can register using the wake-to-wake period. Wake-to-wake periods, and the end of that, when you go into sleep-to-wake, will be much more homogeneous across the subjects. Also, meals, generally, I'm sure there are people who eat very strangely, but here at this conference, we all have breakfast, we all have lunch, and we all have dinner in this very nice vista's dining room. So, generally speaking, you would probably expect to see three big pigs. And in some of the subjects, you actually see Of the subjects, you actually see that there are three large peaks that are happening. So that's the first challenge. How much time do I have? Six minutes. Great. So kind of ignoring that for now, we're like, okay, they eat meals. We don't really know how to align peaks. Let's look at the time during the sleep only. And this is nice because during the sleep, you don't eat. During the sleep, you don't exercise. So hopefully... Don't exercise, so hopefully, you would not see such a heterogeneity of the profiles. So the question that we ask: can we look at the sleep profiles and try to characterize what's the main features of this profile and how they vary across subjects? This is what they look like. So each line here is one sleep period. Each box is one particular subject. So for this particular Subject. So for this particular subject, you have around six lines, which means we had six sleep periods data for that subject. And what you can hopefully see is they all look very different. And before I plotted this data, sort of my intuition was, well, they slip, the glucose should go down. And sometimes you see that. For this object, you can kind of see that it's going down. For this object, you can kind of see that it's going down. For this object, See that it's going down. Well, this subject, I don't know what's going on. This subject, there's all of this weird peaks. I don't know what's going on. And just to give you a little bit more closer look, so first of all, from statistical perspective, you have a multi-level functional structure. So we have multiple subjects and we have multiple curves within each subject. We see that there is a substantial variability both between the subject and within the subject. With the subject. The shapes are very different. The marginal distributions are very different. Some of the data seems to be symmetric, some to be skewed to the right, some to be skewed to the left. And also, it's actually an even domain. So what happens is this is the first seven hours of sleep. And we picked seven because that was the median sleep time for the subjects in our study. But sometimes people don't sleep for seven hours. Sometimes they decide to wake up at hour six. To wake up at hour 6 or at hour 5, like the subject over here. And it's not that I don't have the data after this time period. I do, it's just they're no longer sleeping. So that's all of the challenges. And actually what we have tried is one of the very popular, very nice method for multi-level functional data is multi-level functional principal component analysis. So for those of you who may not be as familiar, May not be as familiar. So here, level one is the difference across the subjects. Level two is the difference across the sleep periods for the same subject. So you take your glucose value and you decompose it into level one and level two using functional principal component analysis decomposition. So that was very nice. We tried that. And then, so I must say that I'm not coming to this from the functional data background. I learned quite a lot. So if my understanding is So, if my understanding is wrong, please correct me because I would like to know what the right understanding is. But when I fitted this model and I looked at level one curve specifically, I was thinking that this should be the subject's average. In some sense, this should be representative of what is a typical NIDE profile for a subject. This is free-selected subjects where the red is the fitted level one. Is the fitted level one curve. And what you can see is that it's on the average. Specifically, for this first two hours of sleep, this fitted curve is completely below all of the profiles that we have observed. Again, it's completely below here, and it's completely below over here. So from the smoothing perspective, those curves I fitted perfectly. You can smooth them really, really well. My problem here is that I don't know how to interpret level one scores on eigenfunctions separately. And eigenfunctions separately from the level two scores on eigenfunctions. And the reason I think that happens here is that for this data, there is a dependency between subject-specific mean and subject-specific variability around the mean. So specifically, to come back, and I'm almost done, what you can see over here is the people who run high tend to very high, and the people who run low tend to very low. Low tend to very low. And I know that a lot of you know multi-level FPCA much better than I do. And I checked the feeds, those curves are smoothed perfectly, but the level one is not where it should be. And for a lot of subjects, it is. Actually, for symmetric subjects, it is at the right spot. But there is a few subjects that tend to be skewed, and the fitted scores are not centered, and there appears to be a dependency in the scores. Where this thing happens. And I'm happy to talk to the people who know what I'm talking about more after this. So, to summarize, some of the challenges are the MILPIX registration. Another challenge is how do we model this data that's definitely very non-Gaussian and have different types of skewness. So I actually tried the log transformation first. It makes it better for some subjects, makes it worse for another. There are other questions, such as joint analysis with other measurements. Joint analysis with other measurement domains that I haven't even addressed, but I would be happy to talk about. And we have a group formed here that's been trying to consider some of these questions. And to end on a positive note, this is why I think there is a hope for meal registration. This is one subject lasagna plot, which is essential. I use the red for high and blue for lower values. And they're sorted across the columns. If you look individuals, Columns. If you look individually, you don't see the peaks. What I hope you can see is that if you trace where the red and blue change, you see nice free peaks appear. Doesn't happen for all the subjects, but that's the hope. Thank you very much. Yes. Are you familiar with the OpenAPS movement? Movement where people are building their own closed loops. Based on the Nice Scout data? No, they're actually building closed loops, artificial aqueouses. They're hacking their devices and then actually having the pumps be administered based on their. That scares me, actually. There's about 200, 300 people around the world that are doing it. And so they're not overriding the maximums, but they're actually making it work. No, I'll be really curious to know, because what I've realized looking more and more at it, that this device. Looking more and more at it, that the devices are not as accurate as we would want them to be. One of the things of that is, as well, is they're making their data, or a subset of those people are making their data available so that you can see their own. Oh, that will be really, really interesting. It works really, really well. Believe it or not, it keeps Lucas profiles much tighter than what somebody else is. Was it type one? I asked one. And they were not getting into the hyperglassinic range? Yeah, no, I need to look into that. Yeah, combination.org. Thanks. I was just going to say, I agree that PCA stuff looks weird. And we should talk more about that. Because it's not clear to me if that's just something that's inherent in the method or if there's some flaw in if that's the refund implementation, if like we need to go and look at that. So I said we need to go and look at that. I do know that there was one bug, so it looked even worse before. It looked even worse before. I know that once that bug was fixed, I redid the analysis, but I still had that issue. I think that it's pretty clear that if you think about, suppose that you have just a simple multi-level model, forget about functional data, right? If 10 of those subjects do not have symmetric data around them means, right, so you have implicates within a subject, and you run a just random intercept model on that, you will get really bad results for those tests. Really bad results for those test objects. So, this is not unexpected that you are going. I think that what is a little bit actually that you are going out of range? That's what, yeah. So, that's a little bit, but a lot of it's once you write it with symmetric data, it works well. So, I'm I don't think that there are many more bugs left in there, but and by no means I want to to have the message don't use MFPC, because I think it actually works really well. I think it actually works really well, which maybe not on this particular data. Okay. Any more questions? The other question I have is looking at the night data, it seems like that would be dependent on a lot of factors. We talked a little bit about cortisol levels, one of the things. And then the other thing is, do you have information about what how much of the rejecting that's slow insulin and fast insulin? No insulin because type 2. Did anybody explain why the glucose is going up during some patients during sleep? I mean, I know theoretically why that could happen, but I don't know why I see such a variability across the subjects. And what is really interesting, what I was personally interested in, is that there is this funnel effect, I call this the funnel effect for a lot of the subjects, which seems, to me, that seems like a healthy behavior. Seems like a healthy behavior because where you start really depends on what you ate before. And if you ate like pizza with tons of carbs, you're gonna start high. But this suggests that during sleep you're kind of self-regulating to a certain level, whereas this one is bad. But it's not related to A1C as much, because that's what we did in the follow-up analysis. We tried to see how those characteristics relate to A1C, and we don't see that relationship to be very strong. So I don't, they show something. They show something, but I don't know what it is. I would love to know something. When I showed this plot, it's very good if I remained. I showed it to a colleague of mine who happens to have... He looked at that first plot, the one that stays low and then shoots up in the middle of the night. This one? Yeah. And he immediately said that's a pizza effect. What what he meant by that was that some people, not all of them, who eat something that's more fatty. Something that's more fatty, they only start to process it late in the night. So it's hard to affect the night. So they start to heat, it hits you later. So I think it may also depend. So certain foods keep the fat more in them. It's not very clear what happens to the subject that goes up all the time. That's really strange. But the other ones, we may have some explanations. Or at least some. Right. Anyway, so uh I think in the interest of time, yeah, I'm I'm gonna stop. So just a quick announcement.