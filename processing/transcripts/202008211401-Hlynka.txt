Hope that my thing will work and I can share my screen. Okay, I've got my screen. Can everybody see that? Yeah, yes, yeah. Can everybody hear? Yes. Yeah. Can everybody hear me? Yes, we can hear you clearly. Okay, great. Okay, so the title of my talk is Completing a Task with Interruptions. We'll decide whether this is really a queuing talk or not as we go along. This is work that my student Jarrett Nante is doing for his master's major paper. And this is a topic that Percy and I have kind of Percy and I have kind of kicked around for a long time. So that's the title. Outline of the talk. As often, I'm going to work with Laplace transforms and their probabilistic interpretation. And we'll get around to being more specific exactly what we're going to do. We're going to do. Recall for those of you who are rusty that the Laplace transform of a probability density function that has, so a random variable with positive support is given by the integral from zero to infinity of e to the minus sx times f of x dx. And that a moment generating function is the same thing if you replace the minus s by a t. There is a probabilistic interpretation of Laplace transforms, and it has to do with catastrophes. The catastrophes here, unlike the ones that Barbara had, the catastrophes here are imaginary, they're not real. Are imaginary, they're not real, they're just a dummy variable that we introduce for computational convenience. Okay, so if we have a random variable that we're interested in, x, and it has a density function f of x with positive support, we're going to define y to be a random variable which is exponential at rate s. S is the value. Value within the Laplace transform. So it turns out that the Laplace transform of x, the thing that we're interested in, is equal to the probability that x is less than this variable y that we've just created. And y is called a catastrophe. And basically, you know, we're finding the probability that the random variable x precedes the random variable y. So there's a repeated statement of the theorem. And if you want a proof of it, you can just do a double integral. Remember that y is exponentially distributed at rate s, so it shows up within the integral there. And a little bit of easy calculation. And a little bit of easy calculation turns our probability into the thing just the way we defined the Laplace transform. Now, the advantage of doing this, of looking at a probabilistic interpretation of a Laplace transform, is that it can simplify some calculations and it will allow us to. And it will allow us to look at problems in a probabilistic manner, which is something that most of us feel comfortable with, rather than thinking in terms of Laplace transforms, where some of us don't quite feel that we know exactly what's going on. So as a really simple example, which we will need later, suppose we want the Laplace transform of an exponential random variable at rate lambda. Random variable at rate lambda. According to the probabilistic interpretation, to find that Laplace transform, all we need to do is find the probability that x is less than y, where y is also exponential, but y is exponential at rate s. So we've got two exponential random variables running around, one at rate lambda, one at rate s. What's the probability that the one at rate lambda comes first? Rate lambda comes first. Well, we've got a bunch of lambdas coming in, we've got a bunch of s's coming in. What's the probability that the lambda type come first? Well, it's lambda over lambda plus s. That's intuitively quite clear to me. And so you can essentially write down the answer without doing any integration. You're just thinking, oh, we've got things coming. We've got things coming at rate lambda, things coming at rate s. The probability of the lambda one comes first is lambda over lambda plus s. No integration, we just write down the answer. Okay, so let's finally get to a statement of the problem that we're looking at. So we're considering a task which has a completion time, which is a random variable t, and it has a probability. And it has a probability density function f of t, t with positive support. But that task can be interrupted. And if it's interrupted, we're going to assume that we have to start all over again. So there are lots of situations where this could be the case. So, I want to find out how long I can hold my breath underwater. So, I take a deep breath, I go underwater, I start the watch, and then somebody says, Oh, you have to come up for the telephone. So, I get interrupted. Now I have to do it all over again, take a deep breath, and start all over again. So, the question is, basically, what's the total amount of time that it's going to take to complete the task if I allow these interruptions? If I allow these interruptions, so I may have to do, you know, I'm going to get a truncated value of t, and maybe another truncated value of t, and then I get a full value of t because it comes before the interruptions. And I'm going to assume that the interruptions are coming according to a Poisson process at rate lambda. So the interruptions are Poisson at rate lambda, and the task. And the task, I'm not assuming much about it, it's just a random variable with positive support. And W I'm defining to be the total time that it takes to complete the task. So it's going to be, as I said, a bunch of T's that are truncated when I didn't complete it, and then a final T, which is not truncated where, although it Although it has a condition that I know it beats out the interruption. Okay, so let's look at a few examples of this. So if I look at the second example, we're watching a YouTube lecture on queuing, of course, and we get these pop-ups. Now I get distracted very easily, so I get the pop-up and The pop-up, and I say, Oh, I've already forgotten what was the earlier part, so I'm going to start the lecture all over again. And then I get another pop-up, and so I get distracted, and I have to start all over again. How long is it going to take me to finish? So, what's the total time that I spend on this lecture because I've been interrupted? The topic. The top example, the pedestrian crossing the street with one-way traffic, and we're assuming the traffic is coming with a Poisson, according to a Poisson process, and it takes a fixed time to cross the traffic. So it takes a fixed time K to cross. And of course, we're a pedestrian. We're going to wait until we see a gap in the traffic upside down. Gap in the traffic up size K. And we're going to look down the road and say, okay, there's a big enough gap. I'm going to walk across the road and I'm not going to get hit. And the question is, how long does it take me to cross the road? I know it's going to take me K units of time, but it's also going to take me the time that I have to wait for a gap to come that is of size K. So there could be one vehicle I wait for, and then another vehicle. I wait for, and then another vehicle, and another vehicle. Those are kind of like interruptions. And this same problem, it doesn't have to be pedestrian. This could be the problem of a car that is, or a vehicle that's trying to enter a major highway from a side highway, so or major road from a side road. So we're waiting until there's a gap in the traffic to drive our vehicle in. So we have to wait for. So, we have to wait for a large enough gap. And people have done a lot on this particular problem. This shows up as an exercise in Ross where he says, what's the expected time, not the total time, not the distribution, but what's the expected time that it takes to cross the road? I looked through Taylor and Carlin. There's the problem is mentioned there. I looked through Cox and Miller, they mentioned. I look through Cox and Miller, they mention it there. So it does show up. This is kind of a classic problem. And it's kind of a tricky exercise for students. That's one of the reasons it's sometimes given in the exercise section. So you have to find the expected time that's been interrupted and then find what's the probability of going continuing and then you have to start. Continuing, and then you have to start the problem all over again. So it has a nice recursive aspect to it. Okay, so here's a picture of that particular problem. So we've got the Poisson traffic and we're trying to cross the road. So we at least have a picture in our mind. Okay, so the main theorem that That we'll use to do the computations is given here. So, again, T is the time it takes to complete the task without interruption. We have interruptions coming according to a Poisson process at rate lambda. W is the total time to complete the task. So we've got these. We've got these truncated values of t, a certain number of them, a random number of them, and then we have a final t, which is not interrupted. And this theorem says the Laplace transform for w, so w is the is the total time that we spent on the task. The Laplace transform is given. Transform is given by the expression here. Now I'm assuming that the task takes an amount of time between A and B. No particular restrictions on A and B. They could be between zero and infinity, if you wish. But we're stating it just with an A and B. And so our solution is going to have the A and B in the integral, both in the numerator and the denominator. Both in the numerator and the denominator. And if we try to calculate this, this should be easy to calculate depending on what the f of t is. So if f of t were a constant, so if we had a uniform distribution, so if it were, if f of t were equal to 1 over b minus a, I can do that integral. That's not very hard. If f of t is If f of t is another exponential e to the mu t, yeah, I can do that integral in the numerator. The one in the denominator isn't, is essentially the same kind of thing. So I could do that. If f of t were an air-long distribution, if it wasn't, you know, so if it wasn't too bad, so we get some t's. So, we get some t's and e to the t's in there. So, I could do that. If f of t were a polynomial type thing, if it's not too big, I should be able to integrate that. So, there are lots of things that we can actually integrate completely. And if it doesn't fit into the nice pattern, we can at least do something numerical with it. Okay, what's the proof of that theorem? Okay, so we want the Laplace transform of W. W is the total time that we spend on the task, including the parts that are caused by the interruptions. So we throw in this catastrophe, this dummy variable y. So we want to complete our Complete our amount of time that we spend, and we want that total amount of time spent on the task to be less than y. So we're introducing this dummy variable y because we can think easier in terms of probabilities. Okay, we know t goes between a and b. So if we want to figure out this probability, there are really three things that are running around here. We've got, we've got the We've got the, we want to complete the task. So that's W or T or however we want to think of that, I guess T. We have to worry about the interruptions, and those are happening at rate lambda. They're exponential at rate lambda. We have to worry about the catastrophes, and those are exponential with rate S. So we've got three things going on. Three things going on. And if we assume that we know which way we know the T, it's somewhere between A and B, if the interruption and catastrophe come later, then we're fine. We've beaten out the catastrophe, certainly. It came later, and so did the interruption. So all done. If the catastrophe is the first thing that happens, then Happens, then that's a catastrophe. We're dead, so that one's no good. So that doesn't even show up in the calculation. That forget that case, we lose. However, there's the case that happens if one of the either the catastrophe or the Poisson or the interruption come first. Okay, we're not dead. Okay, we're not dead yet because maybe it's the interruption. Maybe we're still okay. So, and the probability, by the way, the interruption and the catastrophe are both exponential, independent exponentials. And we know that the minimum of two exponentials is again exponential with the sum of the rates. So, this the first integral, the probability that the Poisson and the catastrophe are later, that's going to be the right-hand tail of an exponential distribution. That's just going to be e to the minus lambda plus s times t. So that's easy. And the second integral, the opposite happens, so it's going to be 1 minus. opposite happens, so it's going to be one minus e to the minus lambda plus s times t. So that one's easy. But if one of these things happen, either the interruption or the catastrophe, it better be the interruption or we're out of luck. And the probability that it's the interruption is lambda over lambda plus s. That's what we had earlier, that particular example of the Example of one exponential beating another one. But if this happens, if it's the interruption that comes first, that's essentially what we just said, then we have to start all over again. So we're going to, so this is the probability that we get interrupted first, and then times the probability that W is less than S. So we're back to the original, back to the original situation. Back to the original situation. So we've got a lambda w of s on both sides of this. We can pull it outside the integral, group it, you know, take it to the other side, and solve. And that's basically, this is basically the proof. This is the talking version of the proof. Here's a repeat of the talking version of the proof. Turn the talking version of the proof. Turn the talking version of the proof into symbols and solve for LW of S. Okay, so we've successfully proved the theorem. Let's do some special cases. Special case number one: we'll assume that T is uniform on AB. Well, we can go back to our To our theorem, it's easy to integrate, so you can just integrate away. And when you do that, you get this beautiful expression. Well, not so beautiful. You get this expression for LW of S. So the total time to complete the task. And you can see it's got a Lambda in it because those are the interruptions at rate lambda. It's got an A in it. Lambda, it's got an A in it. That's the lower limit of our uniform. It's got a B in it. It's got an upper limit of the uniform. And of course, it's got an S because that's the variable of our Laplace transform. Okay, so we've got that. The special case of this would be if that very first example I had, where it takes you exactly k units of time. Takes you exactly k units of time to cross the road. So this would be a special case when A is equal to B. So uniform AB, but A is equal to B. I guess it should be on a closed interval. And you can do that. It turns out you can't just substitute A equals B equal K because you'll get a 0 over 0. But if you want to change B and make it A plus X and then take the limit as X goes to 0 and Take the limit as x goes to zero and throw in a L'Hopital's rule, then you can get the answer. Or if you can go, if you want to go even back to the original statement over here, when we did our proof, we can get rid of the integral and just assume that it takes exactly k units of time. So f of t will be a one, there'll be no integral, and it becomes quite simple. It becomes quite simple. Okay, so as I said, it turned out to be a nicer expression. We don't have the A and B anymore. We just have a K. If we wanted the expected value, we can take the Laplace transform, take the derivative, set it equal to zero, and put in a minus sign, which is what you're supposed to do. And that would solve the problem that you find in Ross. What's the expected time to cross? What's the expected time to cross the road? And if you do that, it looks even prettier than the other one. So you get the expected time to cross the road. And it does depend on the time without interruptions, K, and it does depend on the interruption rate lambda. And this is correct because other people got this. Correct because other people got the same answer. That's not quite the reason, but it's correct. Okay, so let's look at another special case. We're going to assume that T is exponential at rate mu. So the time that it takes to do the task is exponential at rate mu. We still have the interruptions coming from a Poisson process at rate lambda. And everybody here is a queuing theorist, so we're all experts on exponential random variables. So we may be able to guess at what the answer is. Not really. It doesn't, I mean, could it be exponential? Could it be something else? Else is it a min, a max? I'm not sure what you would guess. My student, Jarrett, did the calculations and he came back and he said, I'm getting a result that doesn't make sense to me. And he told me what it is. And I said, you're right, it doesn't make any sense. And there were two possibilities. Either he was wrong, which is what I was hoping. Was wrong, which is what I was hoping, or my whole theory was wrong, which had me scared. And it turned out there was a third possibility is that he was right. And the answer, I don't know if anybody's made their guess, and I want somebody to explain this to me. The answer is mu over mu plus s, which is the original, so that says it's exponential. The original t was exponential. The original T was exponential at rate mu. If we've got these interruptions, the time that it takes to cross the row or the complete the task is still exponential at rate mu, which to me was crazy. Well, what if you get an interruption? You have to add that piece and you start over again, but you have to add that piece. And I couldn't believe this. And I thought, well, okay, maybe it's coming because this is a maybe it's like the Poisson bus. You know, the buses come according to a You know, the buses come according to a Poisson process, and it doesn't matter when you arrive at the bus stop. You have to wait an amount of time corresponding to the rate of the bus. But I'm not convinced that that fits here. Doesn't seem to fit in my mind. And if somebody could explain this to me. I welcome the explanation. Okay, so as I said, I was shocked. I thought it was strange. I thought there'd be a lambda in the answer, and it wasn't there. And I'm expecting interruptions. I've got another example, but I think I'm going to run out of time. So I will skip that example. I'll give somebody, if somebody Well, I'll give somebody if somebody wants to try to explain this, I'll welcome that. Otherwise, I'll just skip way ahead and say thank you. Thank you, Amaya. Any question, please? Any question? Okay, so let me. Can I ask a question? Okay, go ahead. Taylor, so I've just joined because it's very early in the morning. One way to think of this is that you've got a geometric sum of exponential random variables. Correct. And that is known to be exponential. So the fact To be exponential. So the fact that you're that the waiting time is exponential is not a surprise. And I'd have to do a little calculation to work out what the parameter of the exponential is, but that's another way to look at it. Do you still get the same answer when you do it that way? If I change what? Oh, if you have, you basically. Oh, if you have you basically have an ex an exponential random variable, toss a coin, it's either and then you either add another exponential row, you know, it's a geometric sum of exponential random variables, which is what you're doing. They're not quite exponential, they're actually truncated exponentials that we have a geometric sum of because all those were the interruptions, sure, yeah, yeah, okay. So it's the truncated thing that brings the Yeah, okay, yeah, very interesting. Hang on, Myra. It's why is it truncated? Is it not just that the time that you have is the minimum of two exponentials, which is exponentially distributed? I don't understand where the truncation, you know, you hit your interruption at the minimum of that. Okay, okay, okay, okay, truncated, I guess, is the wrong word. They're conditioned random variables. They're conditioned on the fact that. They're conditioned on the fact that they occurred. Right, but what Peter is saying is the minimum of the catastrophe time and the underlying exponential to complete, which is again an exponential random variable. So you just have a geometric sum of those exponential random variables. Yeah, now that makes sense because the first. Yeah, now that makes sense because the parameter is lambda plus mu of the minimum, and the probability of success is mu over lambda plus mu. Yeah, yeah. Okay, I'll think about it a little more. I'm not quite convinced, but maybe any more questions so I'll stop recording. I don't know if it's a good idea.