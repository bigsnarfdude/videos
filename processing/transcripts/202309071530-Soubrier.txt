And then twenty lines for analyzing uh AFL data and self-shapes. Alright, so yeah, at the beginning of the week, Alex presented some data and some analysis that he did on the microbacterial bridge. And basically, we implemented the pipeline to extract the temporal information and geometrical figures to be able to later do some further shape analysis in time. So yeah, just to go quickly about the bacteria itself, so microbacteria practice. So microbacterium. Rotcheck bacterium has a geometry called figure, it has a more or less actual symmetry with respect to the longitudinal axis. And it has specific features we don't see here quickly, but diameter is changing and what we call pits and troughs. Also, it has a specific A specific elevation dynamics. So there are two poles: the old pole and the new pole, they will have the same dynamics. We have a fast growth for the old pole, for the new pole we have a slow growth, and then it switches to a fast growth. And in Alex's data set, we have a lot of stuff: mutants, we have antibiotics, and wild types. We want to We want to study in general the diversity of morphologies, link that with also some behavior of the cells, be able to do a generic analysis. But first we have to develop an automated pipeline because what Alex uh did was by hand basically and it's super long and And it's super long, and yeah, we want to extract everything automatically. We have to do the segmentation, the tracking, and possibly the analysis of the images. So first goal is to rederive what we already know about it, and then being able to extract more information, evolution of the shapes over time, along the lineage tree, and yeah, shape diversity. Shape diverse. So, yeah, atomic loss microscopy, you have a tip that is vibrating and basically touching a surface, and with this movement, you can extract a lot of information. You have basically a force-distant curve of the movement of the tip, and you can derive a bunch of properties, physical properties, from this curve. Actually, a lot of them. A lot of them. For the long-term time lapse, we have frames, we have a bunch of frames in time. And basically, yeah, we suppose that the frames, the time between the different frames is short. Problem with the AFM is that there are a lot of noises, um measurement defects that are um are very strong. Are very strong sometimes. So we can have a saturation, one here, and we can have deformation or movement of the sample. We can have scars, so this is this tiny thing, when the tip isn't touching the sample anymore and stays in place. More generally, the shape of the tip can have an influence on. An influence on the noise and also like chemical reactions with the surface, it can break. So, we can, there are a lot of interactions possible. And something with specifically with fast imaging, because of the construction of the AFM, we have some history cycles. So we can have a drift in the image. Because we are taking two images, we're spinning one direction and another direction. Direction and another direction, and we can have some drifts because of that. The data set that were provided are composed with wild types, mutants, and with or without drugs. So yeah, the key assumption is that the evolution of the shape is slow compared to the time between two images. So yeah, we have 25. So yeah, we have twenty five to twenty minutes to uh take a picture and the T-vision time, so doubling time of the bacteria is around four hours. And here are examples of what we can derive from those curves, distance forest curves. So deformation of the sample, adhesion, so more chemical reactions. Peak forcer gives the peak forcer. The peak fulcrum gives some fine texture of the sample and of course for us the most interesting part behind. So with all this information collection we try to build the nice pipeline so that when we have a problem that we cannot solve, we just don't take the information. Solve, we just don't take the information into account. We want very nice lineage all the time. So from the logs of the AFM and the physical data, we extract a bunch of information. We use the different channels, so not only the height, but pip processor, stuff like this, to improve the segmentation. And it works really nice. So we get some masks. Then we can derive. Um then you can derive some geometrical properties, um do a filtering d and defects detection, stuff like this. Then there is a big part of computing the lineage tree over time. We want to detect divisions, but also the same cell over time. We um because of this kind of symmetry of the cell, it's very interesting to compute the center lines. To compute the center lines, and at the end we have the masks, outlines where we have the physical information, and with everything of that, we can do some analysis. Okay, so the segmentation is done with a Python package called SelfPose. Works very nice and yeah, we try several tricks to have better performances. So Better performances, so parameter optimization, and also taking all the information that we have to get nice pictures. And we derive from that tasks. For the center lines, we have actually two algorithms. So the first one is more, let's say, naive and working on the shape itself. So we use a skeletonization algorithm. Use a skeletonization algorithm, so you crop the shape, and as soon as we have onesy line, we stop. And then sometimes you have like branches, if you hear, if you see that, and then we try to deal with those branches and detect automatically the poles and we elongate the poles. Another algorithm that is easier and maybe more efficient. And maybe more efficient in some cases is simply a template matching because we know approximately a shape. We can simply create a template here, an ellipse, define its central line, and then we do the optimal transport between the two shapes and we do some processing of the line as we obtain to have a 1D curve, which is our center line. The lineage tree is like the big part of the information that we can create. Basically, what we do is comparing images with the different geological properties of the masks and heights and stuff like this, we create a big score matrix. And this score matrix, with this score matrix, we derive a tree. So, first we detect So first we detect the possible roots, leaves, the divisions of the different cells. And so we have a huge graph that is very messy. And there is a way of reconstructing the final path of the graphs with some maximization of the total length and stuff like this. So that's a real tree that we get. Tree that we get. Of course, it's like the nice data set. But it can, yeah, we can get a very complex structure and link cells over generations. Okay, so that's basically the setup. Let's talk about the first re first results that we have. So because we know the properties of the geometry, basically we can just study the center lines. Just study the center lines to have the first results. So, along the center of the cell, we have this variation in height, and using the information of the lineage tree, we can compare the evolution of the center line over time. So we tried, oh, yeah, we do some segmentation of the pits and troughs to because there are biological features. And we also see that. And we also see that those features are stable in time. Basically, we have a central region where the peaks and troughs are not evolving or not a lot. And we have the poles where the peaks and troughs appear. And that's evolve over time. So we can do some statistics over peaks and troughs and Pixen troughs, and the idea further work is to really have characterization of those. So, because we have the center line, we also have the length, and because we align all the center lines, we can detect different growth. So, what we do is aligning all the time, so this is a nice chymograph, right? And then we can compare, okay, we know because of linear tree if it's the north pole or new pole. North pole new pole, and we can just compare the length and see the growth rate. So, growth rate looks like this. That's an example. We have old pole, new pole, old pole with this linear growth, and we do an optimization, two slopes optimization of the data to get the dynamic of the new pole. And we clearly have this. Have those two phases. And when we do the statistics of the growth rate for old pole and new pole before and after this structure, we have then, well, the status kind of clear of two different behaviors. So yeah, what we want to do with the shapes is investigating heterogeneity. Heterogeneity. So, what we do also with the center lines is comparing all the centerlines between them from different data sets from every data that we have. How do we do that? Well, first we align center lines. We use a specific metric with this kind of a specific L2 norm normalized by the length. By the length, and we don't have weighted, we wait the L to know because it's evolving in time, we put a low weight on those regions, basically. And then we can try to compare it across different data set pathologies, and usually we present the results with an MTS. Alright, so let's take the example of this mutant. So let's take the example of this mutant, LTD6. So for this mutant, the morphotype is very specific. So those bacteria are just swelling at one pole. And so it's the most obvious change in morphology. So first we have to see if our matrix takes that into account. So we compare it to with the wild type. With the wild type, and we represent it in time. So, here in grey, we have this population of wild types quite confrontated, and we plot also the population of mutants over time. And we have a nice correlation with the drift in this direction and the time. So, basically, cells are swelling over time. So, we try to work with You can try to work with different types of data here. It's an antibiotic called INH and basically it stops all after growth. When we do the NDS, the representation is not super clear of what's going on. It seems with the eye, it doesn't get a lot of results. But we can do a distribution, and we see a And we see a difference in the distribution. Basically, at the beginning of the experiment, it's a wild type, and at some point, we put some INH. And so before INH, we have a bigger distance, or the distribution is more spread out of the distance, and after that, a slower spreading basically of the Basically, of the population. That's what we can derive from this. And another way of computing it is just taking the growth rate and computing it, doing some statistics. And it's very clear that when we add INH, we have a stop or a very slow growth of bacteria. Alright, so now that we have So now that we have the first analysis of our data and a pipeline that works, we want to be able to go further in the shape itself. So the idea is to use maybe different metrics, maybe the 2D representation of the surface in 3D to derive more results on the shape and how. On the shape and how this shape can be linked with mutants or with different types of antibiotics. We can do which is what is very interesting with that is that here we just worked on the height, so of a surface, but because we have exactly the same data with stiffness, peak forcer, stuff like this, we can also have a lot of physical results. And yeah. And yeah, possibly applying the pipeline to other data, working with data from Ashart, and also different types of cells. It would be very nice. So thanks to Alex for the data and co-worker and Vice Supervisor. Thank you very much. So yeah, sorry, maybe one