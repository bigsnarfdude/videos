Okay, good morning, everyone. Sorry for my confusion over the time zone. I thought I was arriving perfectly on time. Anyway, I want to talk about the topic of universal product structures. The photograph that you're looking at was taken almost exactly one year ago in Barbados, and that was taken maybe half an hour after we realized we'd Hour after we realized we'd discovered something interesting. So let me set the scene very broadly and talk about minor closed classes. I imagine most of the audience is very familiar with this. Here we have a sequence of classes of graphs. The black arrows indicate subsets. So at the bottom, we have one of the simplest minor closed classes of all, forests, which are a subset of planar. Which are a subset of planar graphs, which then are a subset of graphs of bounded genus, which are a subset of, in general, minor closed graph classes. So just in case a graph minor is a graph obtained from another graph by vertex or edge deletion, and edge contraction, edge contraction is the important operation here, which means to take this red edge and This red edge and delete the edge, and identify the endpoints. And always, we're dealing with simple graphs, so replace parallel edges by single edges. All right, so this is what a minor closed class is, is a class that's closed under these graph minor operations. Now, one of the most important results in Graph Minor theory is the Graph Minor structure theorem of Robertson and Seymour. And what this theorem does is that it And what this theorem does is that it describes any minor closed class in terms of simple classes. So the ingredients, there are four ingredients in this structure theorem. They are graphs of bounded genus, vortices, apex vertices, and then the click sum operation. But the most simple building block in the graph minus structure theorem is planar graphs. Is planar graphs. So that's considered a basic class from which the more general classes can be constructed. So in particular, the graph minus structure theorem says nothing about the structure of planar graphs. So this talk is very much about, well, what is the structure of planar graphs? And can we describe the structure of planar graphs in terms of some simpler classes? That's what. That's what my goal is. So, what should be the simpler class? Well, it would be great if we could describe planar graphs in terms of forests, which are the sort of the simplest class of all. We can't quite do that. But the next best thing is to describe planar graphs in terms of graphs about a tree width. And so, that's what I'll be doing this morning. And the theorem that I will talk about, I call it a product structure theorem, where we Structure theorem where we describe planar graphs in terms of a product of graphs of bounded tree width. Now graphs of bound and tree width fit nicely into this picture because of this black arrow. They're another minor closed class and they fit naturally in here. There should be no surprise, before I say that, I think it's justified that we describe planar graphs in terms That we describe planar graphs in terms of graphs of boundary tree width. They are really a simpler class in many respects. So, for example, in terms of computational complexity, many problems are polynomial time solvable on graphs about a tree width, but are hard on planar graphs. There very much is this dichotomy between hard and easy that goes through this space. Can you see my mouse? I hope so. Yes, we can see our mouse. Yeah. Oh, good. It doesn't look like a mouse, but we can see. You can see something. Okay. Now, it should be no surprise that graphs are bound to tree with the pair in this picture, because really they are very much implicit in the graph minus structure theorem and even explicit. The click sum operation basically means graphs of bounded tree width. Okay, so this should be the picture that you have for the rest. Okay, so this should be the picture that you have for the rest of the talk. But one of the great things about this product structure theorem is that it actually says more than just about the structure of planar graphs. It gives a products, an analogous theorem for graphs of bounded tree with graphs of bounded genus, this line here. And it also says something new about arbitrary minor closed classes. And then as Vida alluded to at the end of her talk, it even says something about non-minor closed classes that still have this product structure. Still have this product structure. So try and keep that picture in the back of your mind throughout this talk as I proceed. Let me quickly flick through stuff on tree width. I imagine most of you are familiar with this. Tree decomposition represents each vertex as a sub-tree of a tree. So the sub-trees of adjacent vertices intersect in T. Here is the graph that we care about. Here is a tree composition. Vertex A is sitting out here. So vertex B. out here, say vertex B corresponds to the subtree through here, and for every edge, such as E G, there is a bag that contains E and G. And what we care about is the size of the bags. So we look at the, they find the width to be the maximum bag size minus one, then the tree width of our graph is the minimum width of a tree decomposition of G for example, the classical example of a graph with large tree width is the n by n graph. With large tree width is the n by n grid graph. It has tree width n. And in fact, the converse Haldevigraph with large tree width contains a large grid minor. And also an easy fact is that every planar graph is a minor of some grid graph. So on the left here is a nice planar graph. And if you contract the red blobs and delete the outer face, what you'll get back is the graph on the left. The graph on the left. So that's just an example of every planar graph as a minor of some grid graph. And you put all these facts together and you get the theorem of Roberts and Seymour, which says a minor closed class has bounded tree width if and only if some planar graph is not in the class. So if we think about graphs of bounded tree width as being easy, then planar graphs are the first place where they become hard. Because planar graphs are the first thing you have to exclude to make a minor closed class have bounded tree width. Okay, so let's jump on to the star of the show, which is this theorem here proved last March. It says every planar graph G is a subgraph of the strong product of H times P, where H is some graph of bounded tree width. The tree width bound just happens. Width, the tree width bound just happens to be eight. The number eight isn't so important here, it's just a constant, and then we product with a path. So, what is a strong product? Well, here's an example. Here's a graph H, certainly that has bounded tree width, and here's our path. So, the product is in the green. Each column is a copy of the path, and each row is a copy of H. And then for each edge of H and each edge of the path, I look at the corresponding four vertices and add a cross. Four vertices and add a cross. So that's the strong product. So our claim is that for every g there exists an h with bounded tree width and some path and magically inside this product, even though it doesn't look at all planar, it contains your given planar graph. Let me make a couple of comments about this. First of all, this is not a rough characterization at all in the sense of the graph minus structure theorem. The graph minus structure theorem says if you start with a kt minus Theorem says if you start with a KT minor free graph, then it can be described in terms of ingredients, and any graph that can be described in terms of those ingredients has no KT prime minor for some T prime only depending on T. Now this theorem is not at all like that, because this graph H times P, to be very far from planar, it can contain arbitrary large complete graph minors. Even if H is a star times a path, that graph contains arbitrary large. Graph contains arbitrary large complete graph minus. So this is not at all like a rough characterization. And one minor note is that, in fact, if you look at the proof, for each of these edge, each edge of H and each edge of the path, when you look at this K4, you only actually have one cross. You don't need both of them. But you can't predict which edge you have to keep. So it's not very useful, that property. Okay, let me say more about this. Okay, let me say more about this. One other minor thing is that the number of vertices in H and number of vertices in the path are obviously never need to be more than the number of vertices of the original graph. Okay, the proof of this really starts with the previous result of Volipchuk and Siebitz, who showed that every planar graph has a partition of its vertex set into geodesic paths such that if I contract the paths, this was what this notation did. The paths, this was what this notation g forward/slash p means. It means the graph obtained by contracting each path in the partition. That this new graph, we call it the quotient, as tree with the most eight. So what does geodesic mean? It just means a path that is the shortest path between its two endpoints. This is a beautiful result with a very beautiful proof, and that does most of the work for the proof of the theorem that I mentioned on the. Proof of the theorem that I mentioned on the previous slide. So, what we do is prove a slight strengthening of the Philip Chuck-Siepitz result, where we just add a spanning tree into the picture and then say that you can find these geodesic paths with the extra property that they are vertical paths in the tree. So, the picture tells a story. Here's my planar graph. The red spanning tree is a bear fair spanning tree, and I claim I can find these. I can find these paths in the partition P to be vertical in the tree, which goes up and down in the tree. It's what the word vertical suggests. And then the property is that if I contract each of these vertical paths, so I contract BEJ into one vertex, K stays a vertex, L stays a vertex, Fm is one of my vertical paths, so that gets contracted, CGN gets contracted into a vertex, A D I O gets contracted. Then what I'm looking at is. gets contracted, then what I'm left with is bounded tree width. So this is slightly stronger than Filiprick sieve bits because it's automatic that if you take a BFS spanning tree and you take vertical paths in a BFS spanning tree that they must be geodesics. So it's slightly stronger than the previous lemma, but the proof is almost identical. You just run their proof and observe that the path that they're looking for can be chosen to Looking for can be chosen to be inside this tree. So, I won't say more about that proof. There's that lemma, and why does this imply the product structure theorem? Well, I take my graph and the partition into vertical paths in the spanning tree, and then I just draw each of the vertical paths vertically. That's the proof method. Draw each vertical path vertical, and now, so here's BJ drawn vertically, and I've just Here's BJ drawn vertically, and I've just drawn the graph, all the other edges. And now I just contract each of these vertical paths down to a single vertex. And now you observe that the contracted graph, this brown graph, let's call that H. Then the original graph is a subgraph of H times a path. You just have to look at the picture and see that that's a product. This edge, say, between B, F. This edge, say, between B and F is in the product because in the contraction, this edge is in the H. And then, because it's a VFS layering, every edge of the original graph is either inside a layer or between consecutive layers. So that means that if I project everything to the left, then I get a vertical path. And so the original graph is a subgraph of this brown graph times a path. And by the previous lemma, the brown graph. And by the previous lemma, the brown graph has got bounded tree width, in particular tree width at most eight. Okay, all right, that's all I'll say about that proof. You can read the full proof. The proof of philitra conceibits is really lovely, and it's a method that people should know about if you're interested in planar graphs. Okay, so there's the statement again. What is it good for? Well, it's a cute theorem, but does it have any use? And so, let me show. It has any use? And so, let me show you one example. So, this workshop was on graph colouring, so let me give a graph colouring example of why this is useful. And so, the topic where it can be applied is something called non-repetitive colourings. So, what is this? So, we take a colouring of any graph is, well, let's say a colouring of a path first of all. This is a path with an even number of vertices, is repetitive if the first, if the First, if the sequence of colours on the first half of the path is equal to the sequence of colours on the second half of the path. And then we say that a colouring of a graph is non-repetitive if no subpath is repetitively coloured. So the picture on the right is of a non-repetitively coloured cycle. You can check each of the subpaths of this eight cycle, and you'll see that they are non-repetitively coloured. Non-repetitively colored. So every edge is properly colored, that's the case t equals 1. The case t equals 2 means look at every path of four vertices, and the first half of the path is not the same as the second half of the path. And you can check that for the paths of length 6 and the paths of length 8 as well. And then we denote by pi to be the minimum number of colours in the non-repetitive colouring of our graph G. So let's. So, the classical theorem here is by Tui, which is that paths are non-repetitively three-colourable. That's far from obvious why that should be true, and the proof is absolutely beautiful. You start with a non-repetitively coloured path, like this little four-path here, and you do a replacement strategy. Every orange vertex gets replaced by this subpath, blue by this subpath, green by this subpath, and then orange by this subpath. Subpath and then orange by the same subpath again. And then, too, he showed that if the first subpath is non-repetitively coloured, then so is the new one. So you can just repeat this again and again and again, and you get an arbitrary long path that is three-colourable. Another classical result now by Alan Gritric, Hadrichuk, and Riordan is that graphs of max degree delta are bigo of delta squared colourable. So this is really the first paper that. So, this is really the first paper that generalized Tui's theorem to arbitrary graphs. Tui was just talking about sequences over an alphabet of size 3, but you can think of that in terms of colouring a path. And then Alon et al. said, oh, why don't we just colour a graph? And this is a lovely, beautiful example of the local lemma. If you want to teach the local lemma, then I suggest teaching this as an example, because it's an example where you really need the full power of the general local lemma. The full power of the general local lemma to get the result. All right, but what do I want to talk about? Well, Alonet L asked an open problem, which is: do planar graphs have bounded pi? And this has definitely been the most important problem since then. It's been mentioned in several surveys, and nearly every paper on the topic says this is the problem that we should study. So that's what we did, and the product structure theorem. The product structure theorem gives a very simple solution to this because there was an early result by Kungen and Palsmeier that says graphs of bounded tree width have bounded non-repetitive chromatic number. The bound is 4 to the power of the tree width. Now, we want to use the product structure theorem. So we want to have to say something about non-repetitive colourings of products. To do that, we have to have a slight technicality, which is to introduce something called strongly non-repetitive. Introduce something called strongly non-repetitive colourings. And so we say a colouring is strongly non-repetitive if for every repetitively coloured lazy walk, V1 to V2T. So lazy means it's a walk in the graph where at each step you either follow on edge or stand still. This is standard terminology in the combinatorial enumeration literature. So the property is that for every lazy walk of even number of vertices, there exists some i where the ith vertex is the same. Where the ith vertex is the same as the i plus teeth vertex. Now, this is stronger than non-repetitive, because if you look at a path, a path has got no repetitive vertex, no repeated vertices, so this can't happen, so that means the path is not repetitively coloured. So let's denote by pi star of g to be the minimum number of colours in a strongly non-repetitive colouring. And then the result of Kundun and Palsmai immediately generalizes to give a bound on the strong non-repetitive. To give a bound on the strong non-repetitive colouring with identical proof. And then the lemma is that pi star of a product, h times a path, is at most 4 times pi star of h. That's true for any graph H. And so now we just put it all together. And this lemma is why we define strongly non-repetitive. This lemma is the part where we need strongly non-repetitive. And now you just stick everything together, take your arbitrary planar graph. Pi is at most pi star of g, which is at most pi star of h times p, because g, the planar graph, is a subgraph of h times p for some tree with eight graph. But the second lemma, this is at nose 4 times pi star of h, but pi star of h is at nose 4 to the 8 because h is 3 with 8. So this is this constant here, 262,144. 162,144. So that answers the open problem of Alonital: that planar graphs do have a bounded non-repetitive chromatic number. So this gives a sort of a method for colouring your favorite planar graph or for colouring planar graphs for your favorite type of colouring. The method is solve the problem for graphs of bounded tree width, solve the problem for products, and then stick it together. And then stick it together. It's a whole new way to colour a planar graph. So it reduces the problem of colouring planar graphs down to colouring graphs of bounded tree and colouring products, which is often a lot easier. This tends to work for colouring problems that are defined globally. This product structure theorem is very much about the global structure of planar graphs rather than the local structure. The local structure. I don't think it will ever give the best known bounds on some colouring parameter unless it's the first time it's a constant bound. But it's useful when you don't know whether the answer is constant. Now you might not like having 262,144 colours, so we improved the numbers and we improved it with another structure theorem, which is of independent interest. It says An interest. It says every planar graph is a subgraph now of H, where H has got tree width at most 3 times a path times a triangle. So now we have this three-dimensional product, but the good news is that the tree width bound has dropped a lot from 8 down to 3. And if you plug that into those equations that I mentioned, the non-repetitive chromatic number drops down to 768. Down to 768. You can improve this number a bit more now. I realized when I was preparing these slides that it can be dropped a little bit more, but not dramatically. I think there's a lower bound of about 10 or 11 from my memory. Okay, there's been a lot of activity in this area recently, and here are several papers that have applied this product structure theorem to. To other areas. The first paper was on the topic of Q number, which I won't define, but let me just say that this was the original paper and this was the original motivation, was to prove that planar graphs have bounded Q number, which was the main open problem in that area. And we do exactly the same thing as the non-repetitive coloring. Q number is bounded on graphs of bounded tree width. There's an easy lemma that takes any graph H. That takes any graph H, and you multiply it by a path, and you get a bound on the Q number of the product. And so you just stick it together for G, for a planar G, and you get that the Q number of the planar G is at most three times whatever that constant here is, plus one. And that proves that planar graphs have bounded Q number, which was a 30-year-old open problem in that area. You can improve the numbers, and the best upper bound in the paper. And the best upper bound in the paper is 49. With a little bit of work, you can get it to 48, which we didn't bother doing in our paper. But it's the same paradigm. Graphs of bounded tree width, products, stick it together, and you get a result for planar graphs. P-centered colourings are important because they characterize graphs of bounded expansion. And this is the lemma in the paper of Debski, Falska, Micek, and Troda, is that if G here is a subgraph. Is that if G here is a subgraph of a product H times P, where P is a path, and H has got bounded tree width, then you get this polynomial bound on the P-centered chromatic number. And polynomial bounds, polynomial in P, is always good news for this topic. And this led to thrown away the best known bounds on the P-centered chromatic number of planar graphs in other classes. And these authors pushed this substantially further to get better bounds. To get to get better bounds for planar graphs. Graph encodings is another area where there's been a lot of development. The idea is you want to label each vertex with a label so that you can easily determine if two vertices are adjacent. This is an important topic in theoretical computer science. And you can think of it in terms of universal graphs under the induced subgraph relation. The first paper was by Bonnamy, Gavoil, and Filipjuk. And Filipjuk, the very recent paper, which was only a week old, proves the following theorem. It says if you fix any number k and any integer n, then there is a graph u that has n to the 1 plus little of 1 vertices. And it contains every graph G, which is a subgraph of a product of a bounded tree width graph and a path, as an induced subgraph, where this graph G has got. An induced subgraph where this graph G has got n vertices. So this implies, for example, that there is a graph with n to the 1 plus little over 1 vertices that contains every n vertex planar graph as an induced subgraph. And that was their motivation. That is a best possible result. This constant 1 is what's interesting. There's been a long sequence of results that improve this constant from 5 down to 4, 3, 2. Down to four, three, two. Bonomy, Gavois, Philip Chuk did it with four-thirds. And then, very recently, this list of authors, Doimovich, Esperé, Gavois, Jaray, Micek, Marin, proved it with best possible constant of one. If you have any interest in data structures, then I strongly recommend reading this paper. It's an absolute masterclass in the use of data structures to prove an interesting graph theoretic theorem. Graph theoretic theorem. Okay, the final thing is clustered graph colouring, which Vita just talked about. Her talk was meant to follow this one. Apologies for my delay in arriving. Okay, so there's been a bunch of applications of this product structure theorem, and I think it will become a standard tool for people who want to study planar graphs in other more general classes. Okay, there's the theorem again. Every planar graph G is a subgraph of H times P for some H with 3. For some h with tree with the most eight and some path p. Now, a good question that you should be asking yourself, and many of you probably are asking, is h universal? Does h depend on g and even does the path depend on g? Well, the short answer is yes, h is universal, but to answer it fully, let me take a little historical detour. And we go back to an old theorem, an old question of Ulam, who asked. Of Ulam, who asks, Is there a universal countable planar graph? So now I'm talking about infinite graphs. So he's asking, is there a countable infinite graph that is planar and it contains every countable planar graph as a subgraph? So here I'm talking about subgraphs, not induced subgraphs. Why is this a good question? So let me explain. Even if you don't care about infinite graphs, Even if you don't care about infinite graphs, let's imagine you care about finite planar graphs, and you're looking for a universal graph for finite planar graphs. Well, all you have to do is take the disjoint union of all finite planar graphs. And that contains all finite planar graphs as a subgraph, of course. But that's not very interesting. And that disjoint union is countable. But that's not very interesting. But that's not very interesting at all. So that says that looking at finite graphs is just not the right question. The right question is what Ulam asked: which is, is there a universal countable planar graph, meaning it contains all countable planar graphs as subgraphs? The input needs to be all infinite graphs for this question to be interesting. And the question was answered by Janos Park. I'm not sure if Janos is listening, hopefully. I looked for a photograph of. Hopefully, I looked for a photograph of Janos from 1981. I found this photo here of this handsome young man. I guess that was roughly 1981. Janos can confirm or deny that. And Janos disproved the question of Ulam where he gave a no answer, that there is no universal countable planar graph. This is an absolutely beautiful proof. It's quite a simple idea once you see it. Not so simple to find the idea. So, the answer is no. And I'm surprised that this paper of Janos has barely been cited. I think people thought the answer is no, and that should be the end of the question. But really, it leads to many other questions, and it leads to one of the recent results. So let me first of all rewrite Janos's theorem in a long-winded way. It says if U is a countable graph that contains every countable planar graph as a subgraph, then U must contain. Then you must contain K5 or K33 as a minor, because he proved that U cannot be planar. So this is just restating his theorem in a lot more words. Now, in a recent work with Tony Hun, Bayamoha, Robert Samal, Karsten Thomason, we extended the theorem of Yanosh by taking the conclusion K5 or K33 and replacing it by an infinite complete graph. Infinite complete graph. So in fact, if Janus's result is the bad news, this is the really, really bad news. It says if u is a countable graph that contains every countable planar graph as a subgraph, then u in fact has to contain an infinite complete graph as a minor. So that's the really bad news of looking for universal graphs for planar graphs. And in fact, it's enough. It's enough to assume that you're looking at countable planar graphs of maximum degree 8. Although it should be said that Janus's theorem also applied for graphs, you only have to assume U is contains all planar graphs of max degree 6, I think it is. Anyway, that's just an aside about the degree. So that's the really bad news about universal graphs for planar graphs. But the good news is that we do have one we do have a a universal graph for planar graphs. A universal graph for planar graphs. And it's this product. So we proved that T7 times P contains every countable planar graph as a subgraph. So let me explain what all this means. What's T7? Well, what's Tk? Tk is a universal tree with K graph. And you can define that explicitly. I'll do that in a minute. And P is an infinite one-way path. So this product. Product T7 times P, I claim contains every countable planar graph as a subgraph. Now you might be thinking, there's some typo. Shouldn't that 7 be an 8? No, actually, it is a 7. One thing we realized is that the previous theorem for finite planar graphs, if you just push the proof a little bit further, it easily, the tree with bound drops from 8 to 7. That's not the main conclusion of this theorem. The main conclusion is that. The main conclusion is that if the inputs are countable planar graphs, there is still this one universal graph that contains all of them. Now, you should ask, so what? Is this interesting? Is T7 times P a good universal graph for planar graphs? Well, it's unavoidable that a universal graph for planar graphs contains infinite click minors. But what are the good properties of T7 times P? times p. Well here's some strong properties that it does hold that that do hold for it it has linear expansion this this is the Nestor La Sona de Mendez notion of linear expansion so if I contract balls of radius r inside T7 times P, then the graph that I get will have average degree big O of R. That's if I take a finite subgraph. Take a finite subgraph. So that means it has linear expansion in the Nessa-Trilison-DeMendes setting. And given that it's unavoidable that a universal graph for planar graphs has complete, it has infinite complete graph minus, having linear expansion is really the next best thing inside the sparsity framework of Esotrill Sona de Mendes. Some of you may be familiar with the notion of strong R coloring, which is often called generalized coloring numbers. called generalized colouring numbers. And this graph T7 times P has linear strong R colouring numbers, which is a very strong property. So just with say R equals 2, it implies that this graph has got bounded acyclic chromatic number and many other properties follow from this. A nice property of this graph T7 times P is that any subgraph has got tree width bigger of root n. Of root n. So this means that this theorem implies the Lippen-Tarjan separator theorem. I can take any n-vertex planar graph. I know it's contained in T7 times P. T7 times P has the property that any subgraph has got bigger of root n tree width and therefore has a bigger of root n separator. So it is actually, I would argue, a good universal graph. So these are the So these are the properties that I'll use to say whether a particular universal graph or a class is a good graph or not. And the other theorem, this three-dimensional product, also holds in this universal setting. So now we have T3, which is the universal tree-width three graph, times a path times a triangle, and that contains every countable planar graph as a subgraph. Countable planar graph as a subgraph. These theorems, the proofs use Koenig's infinity lemma, and it also uses a lovely result of Robin Thomas, which says that for any infinite graph, an infinite graph G has tree width at most k if and only if every finite subgraph of g has tree width at most k. Well, these are the ingredients which go into the proof of this theorem. So, let me say a few things about what is So let me say a few things about what is this universal graph of tree with k. And the starting point is the following folk law construction of a universal tree. So the vertices of my tree are vectors x1 to xn, where x1 to xn are natural numbers and n is any natural number including 0. And then the edges are of the form x1 to xn is adjacent to the vertex obtained just by appending any number on the end of that vector. On the end of that vector. So this is a vertex, and this is a neighboring vertex. So the picture draws the tree, and obviously, this tree is a universal tree. The root vertex has got infinite degree, and every vertex will have countably, infinitely many children. And then the depth of the tree is also countably infinite. So it's pretty obvious that this is a universal tree, but we can generalize this. Tree, but we can generalize this to get a universal graph for tree with k. How do we do that? Well, here's some definition which enables that. Imagine you have a graph that's coloured, the vertices are coloured and it's a directed graph. I'm going to denote by G hat to be the graph with the same vertex set as the original graph. And Vw is an edge of G hat whenever I have the following properties. The two vertices V and W have different colours. Vertices V and W have different colours, and there exists a path between V and W, it's a directed path, and there is no internal vertex that is assigned colours V or colour W. I'll give you a moment to digest that definition. It's sort of like a coloured power. When do I add the edge between V and W if there is a path between them and none of the vertices on that path are a coloured V. On that path, are a coloured V or W by the same colour as V or W. And now I let Tk be the graph which is T hat, where T is the universal tree, where I orient all the edges away from the root, and I colour the vertices with K plus 1 colours with the property that each vertex has infinitely many children of each colour. Now that colouring is definitely possible because each vertex has infinitely many children and k is finite, so I can. And k is finite, so I can definitely color this universal tree that way. And then I add these edges according to this rule. And then the theorem is that this graph TK is a universal tree with K graph. What I mean by that is that TK itself has got tree width k and in fact it contains every graph of tree width k. So you can take being a subgraph of TK as the definition of tree width if you wanted. Definition of tree width, if you wanted. I think that's of independent interest. I mean, everyone who works with tree width knows that there is a universal tree width k graph, but I think it's helpful to see a very explicit definition of what TK is, and this definition gives it to. Simple tree width. Well, this is relevant. There's four or five papers on this topic in the literature. So, what is simple tree width? So, we say a tree decomposition is K simple. So we say a tree decomposition is k simple with each bag is size at most k plus one, that's just the normal definition of tree width. But then the extra property is that each set of k vertices appears in most two bags. So this limits the scope of the treaty composition. And then simple tree width, which we denote by STW, is the minimum k such that g has a k-simple treaty composition. Now, this is actually fairly natural because for small values, you get natural classes of graphs. Simple tree width is one if and only if the graph is a path. Simple tree width is at most two if and only if it's outer planar. Simple tree width is at most three if and only if tree width is at most three and G is planar. And we get a natural universal simple tree width graph in the same way as what we did for the tree width. What we did for the tree width. So if I take t to be the infinite complete K or A tree, so instead of having infinitely many children at each vertex, I have K children at each vertex. And I again orient the tree away from the root. And then I properly k plus one colour the vertices such that each vertex has exactly one child of each colour. And then I take that hat operation, I call that graph SK. graph SK. And now the theorem is that SK is a universal graph for simple tree with K graphs. So this is a simpler graph to describe than TK and in particular each vertex in the tree has got only k children instead of infinitely many children. Now why is this all relevant to what I'm talking about? Well it's because we can actually replace TK by SK in these By SK in these universal graphs for planar graphs. So S7 times P is universal for planar, and S3 times P times K3 is universal for planar graphs. So the second result was implicit in the first paper in the finite case, but it's also true in this product here, S7 times P. Now, this graph, S3, is one of my favorite graphs. This graph S3 is one of my favorite graphs. I've drawn a small part of it here, and hopefully, that shows you this construction. So, here is this three-array tree. Each vertex has got three children, and then I look at, say, this blue vertex here, and I say, what are the neighbors of the blue vertex? Well, for each of the other three colours, I look at the first vertex of that colour and the path back to the root in the tree. So, I'm looking at this blue vertex. In the tree. So I'm looking at this blue vertex. Well, it's going to be adjacent to the red parent, but it's not adjacent to this blue vertex because that's the same color as the starting one. But it is adjacent down to this brown vertex because that's the first brown vertex in the path back to the root. And the first yellow vertex in the path back to the root goes here, down, and back to there. So this blue vertex V is adjacent to the yellow one. And that was the rule that I gave on the previous slide for defining S3. So S3 is. So S3 is this lovely graph. It's the universal planar 3 tree. It arises as an extremal graph in several settings. So a lovely open problem is whether you can drop the K3 here. Does S3 times P contain every countable planar graph? And I wonder if that might be true. So meaning take this universal graph here, replace every vertex by an infinite path, take the Vertex by an infinite path, take the product, and does that contain every planar graph? It'd be a lovely theorem if that was true. Okay, let me stop talking about planar graphs now and talk about generalizations to other classes. All of this will be without any hint of proofs. The first thing to generalize it to is graphs are bounded genus, and it works. We can replace this product structure theory. There's product structure theorems for planar graphs with different product structure theorems for graphs of genus G. So, for example, the second one is h is tree with 4 times a path times a complete graph that just depends on the genus. So, you can immediately plug this into all those applications that I talked about and get results for graphs of bounded genus. I won't say any more about that. Any more about that. But a good question is: for which minor closed classes does every graph in the class have such a product structure, meaning it's a subgraph of H times P, where the tree width of H is some constant that depends on the class. And Rita hinted at this in her talk. This graph is the obstacle. Take an n by n grid plus one vertex adjacent to everybody. Well, it's easy to see that this graph, for this graph, the answer is no. Is no. And it turns out that this graph really does answer the question because it's true. We proved that a minor closed class has a yes answer to this question if and only if some apex graph is not in the class. So this is apex because I can delete this vertex and be left with a planar graph. And as soon as you exclude an apex graph, then you do get this product structure theorem. So that proof uses the graph minus structure theorem and that generalizes what I said. Theorem and that generalizes what I said on the previous slide for graphs of bounded tree width. We also get a result for graphs of bounded degree. You can take any minor closed class. If the graphs in the class have bounded degree, then again, those graphs are subgraphs of a product where the tree width of H is now big O of the max degree bound. This is reminiscent of an old result of Dingano-Perowski. Dingano-Perowski, which says if you have a graph of bounded tree with n bounded degree, then it is a subgraph of a tree times a bounded size complete graph. What about for universal graphs in this setting? Well, as you might expect, it all generalizes. So, for genus G graphs, and now the graphs are infinite, we get this infinite graph S8 times. Infinite graph S8 times P times a small complete graph, or we can take S4 times P times a small complete graph. Here, S is our universal simple tree width graph. We get another universal graph for any graph excluding an apex. And again, we get a similar result for minor closed graphs excluding a minor and with bounded degree. Okay, what about for general minor closed classes? No assumptions on the excluded minors. Well, when you use the graph minor structure theorem, you get this statement. For every proper minor closed class, there are constants k and l, and every graph in the class can be obtained by clique sums of some list of graphs. Now I'm talking about finite graphs, and I get clique sums of g1 to gn, and each of these graphs gi isn't quite a product structure, but it's a product. Quite a product structure, but it's a product joined with a bounded size complete graph. So this plus means the complete join. So I take a bounded tree with graph times a path and do a complete join with KL. So these are my apex vertices, which are unavoidable in this setting. So that's a useful theorem. So for example, you can plug it into the machinery and you get that non-repetitive chromatic number is bounded, and it even works. Number is bounded, and it even works in any topological minor closed class because we can then use the structure theorem of Grower and Marx, which says you could add bounded degree graphs into your list of ingredients, and then it all goes through. So a year ago, it was open where the planar graphs have bounded non-repetitive chromatic number. We now know that if you exclude any fixed graph, even as a topological minor, you have. Topological minor. You have bounded non-repetitive chromatic number. You also get a simple proof for the low tree with colorines. This is a result of DeVos, Dino, Perowski, Sanders-Reed, Seymour, Vertikin, which says if you take any minor closed class and any number C, where C is at least two, then you can either colour the vertices or the edges with C colours. And any C minus one colours induce a graph of bounded tree width. And that's actually a pretty easy corollary of this. A pretty easy corollary of this structure theorem here. Everything generalizes to the infinite setting as follows. So for every fixed graph x, there is a countable graph u, and u contains every countable x minor free graph. So x is my excluded minor. I say there is a single graph u, and it contains all of the countable x minor free graphs. X minor 3 graphs. I haven't told you exactly what U is, but it does have a nice structure. Now you can read the paper to see exactly what U is. But it has a nice structure, and that structure is good enough that many properties hold. We get linear expansion, linear strong colouring numbers. We still have big O root n tree width on n vertex subgraphs. So we get a separator theorem as a corollary. And you would see. And U itself even has low tree width colourings. So now you don't need to study minor closed classes, you just study U. Because U contains them all and it has many of the properties that you would want in a minor closed class. An important open problem, I think, is to prove this theorem without using the Kraft-Monus structure theorem. I think that A structure theorem. I think that's a really important goal that we should work towards. I think there'll be some important discoveries made if this open problem is solved. The techniques that will be developed, I think, will be of broad interest. It would be great to get good constants here that don't depend on the full graph minus structure theorem of Robertson and Seymour. Okay, let me wrap up. Okay, let me wrap up by talking about non-minor closed classes. And the nice thing about all these product structure theorems is that they generalize beyond minor closed world. So here's a starting example. Let's say a graph is one planar if it can be drawn in the plane with at most one crossing on each edge. So here you see the n by n by two grid, and I've drawn it with at most one crossing on each edge, so that's a one planar graph. So that's a one-planar graph. This topic has really been very well studied in the graph drawing literature in recent years. And we get the same sort of product structure theorem. Vida, Pat Morin, and I proved this. Every one planar graph is a subgraph of H times P, where H has bounded tree width. The bound increases a bit, but it's still a constant. And to get, we got the tree width down to three, which is best possible. Which is best possible, where if the cost is that there's a complete graph here of 30. One thing I didn't mention earlier is that tree width 3 is really as low as you can go for all of these things, even for planar graphs. You can put 1000 here, and there is a planar graph which is not a subgraph of a tree with 2 graph times a path times k 1000 or any constant. So tree width three is really best possible even for planar graphs. Even for planar graphs. I should have said that earlier. It generalizes for k-planar. K-planar means you can be drawn with k-crossings on each edge. Same sort of structure theorem. A subgraph of H times P, where H has bounded tree width. Why stop at the plane? Let's go to surfaces. A graph is GK planar if it can be drawn on a surface of genus G with at most k crossings on each edge. And it's exactly the same structure. And it's exactly the same structure theorem that such graphs are subgraphs of H times P, where H has got bounded tree width. Let me say very quickly about the proof of these results, so I think it's of independent interest. Let's call a K D shortcut system to be a collection X of paths in a graph, such that each path is short, it's got length at most k, and each vertex is an internal. And each vertex is an internal vertex on at most d of those paths. Now, if you think about it, let's denote by g to the power x to be g plus an edge vw for each vw path. Now, every k-planar graph equals gx for some planar graph g in some shortcut system. This is an obvious statement. Take a k-planar graph here and add a dummy vertex at each crossing point, so I get these yellow vertices. So now I get a planar graph. So now I get a planar graph, and each of the original edges vw is described by a path of length k plus 1, and each internal vertex, these yellow ones, are sitting in two of the new paths. So it's a k plus 1, 2 shortcut system. And we proved a general theorem which says that if x is a K D shortcut system for some G where G is a subgraph of a product, then when you apply the shortcut system, you're still a Shortcut system, you're still a subgraph of a product where the J graph now still has got bounded tree width. It's this bound here. So this implies what I was saying before about k-planar or g-k-planar, but it also applies in many other settings, such as map graphs or powers of graphs of bounded degree and other places. So it's quite a general setup for dealing with non-minor close classes. Close classes. So let me finish with this table of results. It summarizes the known product structure theorems. Typically, these are of the form H times P or H times P times a small complete graph, where H has got bounded tree width. Sometimes we need the click sum operation. And for all of these classes, you get universal graphs where H is now. Where h is now some tk, where k is this number over here. Or in some cases, you get this simple graph of tree with k times the path. All right, so I'm going to stop there with that summary slide. So thank you for listening to me. And again, apologies for arriving late. Thank you, David. Let's try to clap again. I'll count to three to unmute. One. Unmute. One, two, three. And we proceed with questions, remarks, David. You said that you can read about what you is in the paper. Is this paper out somewhere? Say that again. You said that. Oh, no, no. You said that. Oh, no, no. So the paper is 90% written. It's not out yet. Okay, so we cannot read. Okay. Thank you. You can anticipate reading. Okay. Okay, thanks. We can talk more about that later. Okay, other comments? If not, David, thank you again for the exhaustive talk. So, beautiful collection of results, and hopefully, we would be able to apply some of this in our future work. Thank you again.