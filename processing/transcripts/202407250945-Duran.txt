So I have, if you haven't seen it, I have uploaded the typed version of what we talked about in the folder. So you'll see kind of the second stage, first stage problems there, and the partitions did, and the final equation and kind of the middle steps explained. So there are no typos, but if you have any questions or anything that you want to, feel free to ask. So today we will, in general, In general, if you remember and if you read through, I mean, for stage problems, we first find the closed form version of the solution of the second stage, then plug it into the first stage and solve it. So here we're trying to do that, like at the outset, can we write the KKT conditions for the first stage problem? And thanks to like that article, I think there is a like trick that lets us use the dual of the second stage problem in place of its objective so that we can get sort of So, then we can get sort of an equation for the first stage and one line, and then we can take KKT conditions. So, for this problem, if you remember the kind of KKT conditions, I mean, one is going to be first you write the Lagrangian of this function, which is the function itself, and adding the constraints and the objective, its penalties and deal variables. So, we don't really have here. Really, I have here any constraints, only that the selection of our capacity vectors should be greater than or equal to zero. So, I'm going to have two Lagrange variables that are associated with those. They're going to be the number that I used here. So, I have the complementary selectness conditions in the KKT, which means the day themselves, the variables that I select, and because I'm using them for the Because I'm using them for the for these constraints and I'm multiplying them. There is zero, so it becomes, let's say this is lambda A, this goes B. So the complementary selectness is the constraint called by multiplied by the value of the build variables. Since there's zero here, you just multiply them with the variables they're looking for. Are looking for, and then we take the derivative of the Lagrangian, which is sort of the derivative of this equation itself. So the C's here come from there, as well as again the lambdas, because they were in the object of the Dagrangian by themselves. And the start is the derivative of where we wrote within that term. So now we will have, we can use these. Can use these all together, these two equations and this one, and find the case. But it's going to be a little bit tough to do that. I mean, if you work a little bit, you can derive it. It's still a simple problem, but he just selected them as a toy example, just two generators here. So it is not like we have a very complex problem. If you have like five, six, seven variables, it's going to get progressively harder. But for software, it doesn't matter as much. It doesn't matter as much. So that's why we will learn how to kind of use mathematical software in between, also playing this problem. So if you want to remember the equations too, and maybe we can all together actually remind ourselves the kind of probabilities so we can use them. Remember, we said that, say, the demand is uniform. Uniform and then it's between theta minus epsilon, theta plus epsilon, something like that. So this means it's a kind of a distribution centered in theta. So I know it's centered and the mean value. I can make like judgments related to that. And how big I set the epsilon is going to tell me the variation in this random variable. And then we had like three partition spaces. Spaces. So if you are like omega one, two, and three, the first one is up to the renewable capacity. So it's like the gamma or original times Kp for the demand. And then I have from then on the total capacity I have. So this is Insume these boundaries too, I can find the likelihoods as the size of that interval divided by size of the entire interval and the others are like that. So you got the difference between these divided by two epsilon and the same here. So those are going to be what I will use automatically for these probabilities. And there is a way actually to write it as a random variable in Mathematica and as probability. Variable and mathematical as probabilities too. I'll use that kind of to show both examples. I'll use that when I'm setting the gamma variables as uniform variables between 0 and 1 or any actually 0, 1 variable. So you'll see both examples. Let's open up. Okay, so go ahead and open up a. I started one and wrote some stuff, but yours would be blank. So go ahead and open up a new notebook, which where we write everything in Mathematica is called a notebook. So you can start a new one. And I like to, in each like mathematical notebook, I generally like to put a condition to like here. A condition to like clear everything in the beginning. So if I had any variables that have any values from before, kind of they are clear. You can actually write this clear all for the entire global workspace. I mean, you don't need to, since your will be fresh mathematicals, but you could also put an actual variable in there to clear. And the documentation is really good. So if you kind of have any trouble, go to the website and the documentation. Got to documentation. And you can ignore the second line too. So we'll talk about those later. So if you want to write some stuff mathematically, you put cells. So you can just start. So the language input is where we write the math code. And then if you say like text, you can write comments and text for people that read your code and yourself later on to understand better. So you can say like collectible from language input, and then whatever you write is going to be. And then, whatever you write is going to be mapped. So, you can write everything in kind of one cell altogether in the entire notebook, but then when you evaluate, it's going to run through the entire thing. So, I like to split it into different cells and split the problem into parts. So, you don't have to, like, if you change something, you don't have to do everything again from scratch. Any questions? Can you zoom in a bit, please? I'll try. It's a bit. Where's the Windows? I'm on, I'm not used to Mac. Yeah, so that's. Oh, there? Okay, I don't see it because of Zoom controls. I think I remember that. Yeah, I see that now. The Zoom bar was on there. Perfect. How do you type floor quote view and gamma? So there is, you'll see, there are short codes as well, but there is a math code thing there on the top. If you have it, if you press that, you'll see. The online version, I don't think I have that insert. So, if there is an insert, there should also be a special character or math, but you can also define them as like gamma. Hex max or math formula. So, there's like something like special character which pulls up of all. We can just write like G or gamma or GR for now. It's the online version. I don't remember the like there is a way to write the symbols with a shortcut, but I don't remember it now. Okay, thank you. Oh, that's smaller in continuity. That's what I just got to start with. Oh, I see something. We can ignore what I wrote here as I said, like you can start in a way fresh. This is just to show you, we might need to clear everything. Okay, new salt. So, what we want to do is I don't have. So, what we want to do is ma'am, I don't have the equations anymore in the PDF. Now, I'll open that for myself. But you can also open it. So, we are going to be writing the KKT conditions and trying to solve that. I'll find the PDF from here. It's a data. Yes, this is just like related to our problem, so I initialize solved that license are points. There are a lot of things. I mean, this is if we wanted to do a whole mathematical tutorial, we have to start from maybe basics and kind of define alternate themes. It's very similar to any code, like there are functions, you know, parameters. So if you have worked with any coding software, it should be that part. But go back to the documentation if you need to do anything specific. Anything specific, so let's say I want to find my solution. Is it a new notebook? It's a new notebook, yeah. Everything is a notebook, yeah. That's what it gets there. Okay. Yeah, okay. When I do that, I just have this one. I think that was right. I think that that's okay. And then you insert a cell, and then you start typing yourself. Yep. Insert the cell. There's a little slus that appears if you over. Just click on that. Yeah, it'll be like insert Mathematica cell. Both from code or yeah. Yeah, both from output. Yeah, the Math and that. Oh, okay. Oh, and then you can ignore everything on top things for now. Like you might need the parameters later on for the range, but it's okay. So we're going to define our solution. If I don't write it as like solution equals, it will still solve, but I won't have it set to any variable. If I want to refer to it again and use parts of it, I want to assign it to a variable, so I will have kind of that. So when you want to solve something, We want to solve something, solve a system of equations. We use the solve function, which is very easy, and then square parentheses in general. And as you go along, Mathematica will give you pointers, you know, kind of tips as you go continue writing. So inside Sol, we want to write our set of equations. And in my case, I have the, I want to solve a set of KKT conditions because if you look at Conditions because if you look at the document I shared, you'll see they are both due to this problem structure sufficient and necessary for characterizing my optimal solution. So any capacity values that satisfy the set of KKTs is going to be the solution to this problem. So I had the first of all the complementary side of ones. So these are going to be equal to zero. So let's start. So let's start writing those first. So I'm going to say, let's say my capacity vector is going to be use the little letters. And when I have like more than one equation, like put another more than one variable. You don't have to, but it makes sometimes like more compact. I like to separate the equations. The equations are right with that. So it should still work if you don't, I think, but anyways. So let's say my capacity variable is going to be Ka. That's what I'm going to be looking for. And then I'm going to have a Lagrange multiplier. Let's use V for that. Do you want to do capital Lambda? So this one equals equals zero when you're writing equality testing. Equality, testing inequality, we use double equal. The single equal is just like a signing star. So that's my first equation from the KKT conditions. So I will have one more. Just put a comma and write the second equation. So this was the equation first. And then we're going to have one for the renewable. Yes. And then the third equation is going to be a little bit more complex. So let's remember the equation we had. So I have zero, zero. So the first part disappears P omega one. So this is, I don't have to write this part because it's gonna end up being zero. And then you have, of course, the expected this is going to be the gamma EA to zero here. And then this is given omega, but then I have to multiply the probability of that. And then I have the torque part. And then I have the torque part again, the expectation, and then I have gamma Cp and Cp minus EA and probability of omega 3. And there's the right-hand side, it's like now with the new variables, going to be CB minus VB here and CA minus VA. So, this is actually two equations. We're going to write. Equations. We're going to write two of them separately. One for, I kind of flipped the order writing the A and B. So let's write the one for the A first. So C A minus V A equals this omega probability density times zero. So this one also goes away. So I'm only going to have the last one left for that equation. So essentially I'm going to have, and there is no gamma in there. So I think even that's going to go away from that point. Go away from that point of view, but maybe not for the probability. So I'm going to have Cp minus EA times the last section's likelihood, and that's going to be theta plus epsilon minus, okay, there I have that, gamma k B minus Ka divided by 2 epsilon. That's going to be one side of it. So let's type it in. So let me so I want to take in the end its expectation. So we can actually set it here to take the expectation of this function. So if you write expectation, Mathematica will take everything in it. Everything in it, evaluate all the random variables we're going to define inside the function in a bit, and take its expectation. So you can use that. And then what is inside is C P minus E A Put it in parent disease times my probability density. My probability density. So I'm going to have, I'm going to copy that from here: theta plus epsilon minus the gamma times. And if you don't put the star, I understand it's a multiplication, so you can just write them next to each other. Next to each other, it should still work generally, but yes, and if you want to take the KB works, I think insert inserts up. But there are also like there are shortcuts. It's data. I think if like you can also do shortcuts to make a little bit of that. Shortcast to make a little bit. It's not exactly late, but there's a batch. So gamma. Capital G and gamma. But I think it is easier to do spatial characters. Yeah, or you can just use write gamma. Then it's like you can define it as like yourself as GM or gamma or something to be. But is it like this? Yes. Gamma. Yes. Yeah, gamma, yes, yeah, but this one also is okay capital gamma capital gamma, and then I'm gonna divide this by two times epsilon. So I'm still inside the expectation. I just wrote the equation that I'm taking the expectation of. So if you then, after that, put one more comma. And again, just there's a lot more syntax that, I mean, we have to go through if we want to learn all of this. But if you're stuck or confused, you can look at the documentation. Now, I have one variable here that's random. Here, that's random, so I'm gonna define what that is. I'm gonna say gamma here is defined as a little bit of a little I want to see the there's a I'll try to copy it from a mathematical size let's say equal for now there is actually a different equal sign that I mean it looks like a field that it is not I'll figure it out I'll figure it out. Specifying distribution time. Yeah, the distribution sign, but I don't see it here normally. It was. I'll go to second online and just go ahead and get a little bit of a little bit of a little bit of a little bit of a little bit of a little bit of a little bit of The sign might be on the spatial characters. Is it? Did you see it? I didn't. Can you close the board? Yeah, yeah, it's like double, almost like double. It's gonna look like this. Oh, it's in general reader. Is it going into a map? Okay. Yeah. Tilde tilde. Yeah. Okay. Just double tilde. I don't like the special, the dozen show for me. I think that's why I'm calling the special operators type. It is backslash. Okay, just yeah. In like the brackets. The brackets square square brackets okay writing that writing? Yeah, exactly. Oh, it's like it's gonna appear like I'm gonna copy paste it, but does it look like this? Yeah, okay, okay, then perfect. Can you say uniform distribution? I think it's like either stuck behind Zoom or something. I cannot access the characters tab. I do, but I just still cannot see that. It's just not coming up. Anyways, it's you can also go to like Google. I sometimes do that too, right? Google, I sometimes do that too, write expectation mathematica and copy paste it from the website where they show the syntax. So it still works that way as well. So it's going to be uniform and then it's going to take values between zero and one. And that's it. That's what we were trying to do. All right. What's wrong? This is for solve. This is for my expectation. Why do you think? Yeah, it adds up, right? It's function inside the function inside the function. So there is the solve. So these slash two are for that. And now here is the expectation, but it highlights it if you are. Like if you select, put your mouse somewhere so you can see where you are. And now we say equal, equal because. And now we say equal equal because you're making that expectation equal to this C A minus. We don't have a V A. Oh, we have. Yes. So that is one of the equations. Okay. And I have one more left that's a bit more complex. It's going to have two components. And then CB minus B B. Minus V B minus V this one? No, this is the one on the button. Oh, so it's the C A minus V A. I think. Oh, hopefully. And now we have one more. So for that, it is again going to be an expectation. So I close the expectations. So another comma. And let me say expectation. And you can actually take the now uniform variables parts and just put it in because it's going to be the same inside. I mean, and then the right-hand side of this as I know is going to be CV minus. I know it's going to be CB minus VB. So let's just write the equation. And then I have let's see gamma EA. Ea divided by, there's also the books next to it, and this equation then divided by 2 epsilon. Yay. And I think this for this one, I mean, we could have like two options, right? So this is, we could also have the scenario, just to make sure we could also have the scenario like I. There you are. Like I had the gamma TV already here. It's possible. There is also a chance that so we are writing for the situation. The probability is that minus that. So I have Ka remaining divided by 2 epsilon. So it's a simple likelihood. Likelihood. Yes. So this is times then Ka and then divided by two epsilon. So this is one part of it. This is the second term. And then I also have this last part, gamma. This last part gamma cp times the third region's probability, which you already actually also wrote in the other equation, the probability for the third region. So you can actually also copy that. There's a here, yes, and there's going to be gamma CP. Should be good. Decide for Dr. Clause, I think. Yes. Okay. Okay, and that is this one. So I have my four equations now. So I'm still inside Sol. I wrote all of my equations. So let's go out of the curly brackets as well where we wrote the equations. And just inside the last square bracket, let's put one more comma. So now we're going to write which are the variables to the Going to write which are the variables to this problem. What is it going to solve it for? So, my variables are KA, KB, and the Lagrange variables, Lagrange multipliers. Those are going to be your variables. And you can write more things here. For example, we can say reals, integers, even if you want. And for my case, I want these all to be non-negative real numbers. Be non-negative real numbers, so I can specify the domain, even if you don't, it will solve. But this just makes its job easier. Um, just a question: why is this equality second by the expectation? The right-hand side of the channel is like right. Deterministic, right? Yes, it's part deterministic. So expectation of it is equal to itself. But is that the question? I'm not sure. No, I thought, so expectation refers to the part where it has gamma. Yes. And then you calculate the expectation and then equate it to C minus V or you want to expect. No, this is just the expectation of like this segment. So I'm writing the kind of derivative of the Lagrangian, but this is a matrix form. So it's like two equations, two vectors here. So inside it, there are these like expectations. Equation should be outside expectation, right? Equation is outside the expectation. It's inside the expectation in a code. Oh, don't maybe. No, it doesn't have. One, maybe, no, it doesn't have to be. Yeah, it's the same as this. You can take it out, it should work. It is, I think, yeah, it doesn't have to be inside. I'm not taking the expectation. These are not random, so it doesn't matter, but yeah, you can move the parenthesis of the expectation. You can take the expectation of an equation on both hands. Yeah, yeah. It evaluates everything inside, assuming that variable is pretty smart. I swear it's not, but actually, we can do it. Uh, like you mean this, right, Dennis? This is so instead of so just like closing it here. Yeah, yeah, yeah, that's okay. I think it doesn't matter. Okay, let's do that actually. Maybe I think it's solved. That's how I did this meaning, but yeah, that's more correct. Okay. Totally stood out. Yeah. Put it on the left-hand side in case it doesn't mean. It on the left-hand side in case it doesn't. Thank you. And now we can also set here. So that's why I had the, and you don't have to, and it will still run. And you'll see yours will have like so much more conditions if you don't say anything like that. But you can also say like some set some assumptions here. And I'm going to use my like conditions. Just to let when it's solving, it should know like there are different like CA, CB, they are greater than zero, come at a certain ordering. So it will take those into account when solving. If you don't say it, it will give you all possible solutions. And then there will be more cases when C's are negative, you'll get different solutions and everything. I don't need them, so I kind of want to try and kick them at the outset. There isn't. There is a curly bracket there. This one. I forget one. This one? Yes. Yes. Where is that? That is for all the entire set of equations. Here. It starts here. Oh, so it's equation one, equation two, equation three, equation four. Then we close the unit breaker. I think even if we don't put it, it's a Even if we don't put it, it's but like giving the set of equations in Curly Brackets is like syntax-wise is better, I think. Exercise. It has a lot of room for error. Like if you do mistakes, it still runs most of the time. So it's really kind of forgiving software in that country. And instead of, you know, like using, again, I wrote the probabilities explicitly for the Probabilities explicitly for the demand and then use the distribution for the gamma. But you can also write like probabilities as like the probability of this demand being in between two variables and then say demand is a random variable with this characteristic. So it also works that way. Let's just see both examples. Or instead of this, I could use the expectation of gamma. It's going to be one over two, so it wouldn't look informative. So that's why. Informative, so that's why I didn't set it there. But when you're writing the two equations inside this solve command, you specify the distribution of gamma twice, right? Yes, in each expectation. Yeah, but is that going to be different, gamma? No, it's the same gamma, but it is the expectation operation or this function requires the distribution. Distribution, yeah, so I mean, for the first expectation, you have a gamma specified, uh, for the second expectation, you have another gamma. It's just a distribution, you don't draw anything. This is gamma's distribution, just says evaluate this expectation, assuming gamma is this random variable. But it's also like this expectation opens and closes here and it evaluates. So, after that, whatever you set within that function is not important. Set it in that function is not important to you as well. It takes out something, and that's what people do. Oh, right, right, right. That's only for that function, right? So that's like I could have said this, not gamma, but like, you know, something else because it will disappear. Your expectation kills the yes. It's just going to be half of it, it's uniform, so it's just going to become half of it. So it's not very interesting. Okay, so we can solve this now. I'm going to make this a little bit smaller so we can see the See the whole thing, and again, as I said, you don't need to start scratch, but I may have other. I was trying this code in the evening, so I'm gonna like clear everything. So, you go to your cells, you right-click on them, and I say evaluate. That is how you evaluate each cell. Again, you could have written the entire code in one cell, which would be okay, but then it evaluates everything, and then if you Everything and then, if you have errors, it's harder to detect them or fix them. So, I also wanna actually don't need, I guess, zero between one because it's gonna disappear anyways too, but gamma is unnecessary there. Just right, also just to show you, if you put a kind of semicolon at the end of your lines, it doesn't give you an output, but it's still evaluated. So, it's the way to express your output. What do you mean? I don't have a cell. Where are you writing? It's a notebook. Then just say evaluate notebook. Is there anything? I think you're yeah, you wrote everything in one single cell. Okay. Yeah, this mixed step together. And this one. Yeah, there's nothing in it, right? It's not text. If you want to write text, you add on top of the permission. You add on top of the person. Yeah, you can do that. There's a command thing as well, but there's also a way to include personality. But you can add like a textile and just write here. Yeah, I mean, it's a different type of cell. Okay, let's evaluate. Okay. So these are my. So these are my solutions. So what does this mean? And it doesn't look very nice. But so you see, it's going to give you the KA, KB, and your Lagrange multipliers as a solution. And there are different ones, right? So this is the first one. Let me make this. This is my. And the conditions are like not showing. So you can say like iconize. Like iconize, and then it will explicitly show you. So, this is says you will set the field to be zero capacity and then have a positive solution for the renewable. So, this is your one corner solution with K is equal to zero. So, if I write it as K K B, it's a zero to some value. One corner solution there. And everything here tells you when that. Here tells you when that solution is going to be happening. So, your parameters have to satisfy the conditions for that solution region to be viable. So, they're going to need like the what? Yeah, so there are different conditions based on your cost parameters. And then you will be able to plot these as well in Mathematica, showing like which solution is in which region and what are my optimal solutions. So, those are, so this is everything. Those are, so this is everything inside for the same solution, is going to be the same. So, if I expand these conditions as well, they will be the same as this one within that solution. So, this is field is zero, you have positive renewable. And because we wrote the KKT conditions, if one solution is in the like interior, then it means its Lagrange multiplier is going to be zero. So, you can see there for that solution, V V goes to. that solution VB goes to zero and this is the shadow price of the other variable and that doesn't have to that doesn't have to be zero because it is the solution it's not this so we have also the zero zero solution this is the when you don't make any investment and prefer to sit in the dark so let's see when that happens so for that to happen There are certain conditions, and these are like different scenarios, as you can see. So, it's like if your renewable is probably something expensive within some range, field is also expensive. In those cases, then like the cost of penalty satisfies certain things, then you don't build any generators. Yeah, yeah, they are invalid. Yeah, yeah, the other yeah, maybe then it's the thing that Dennis said. So just move your expectations to the left. It might be actually not working because of that. Could you show the code again, please? Yes. It might be the expectation parenthesis that then is not the most great. Not that. That's good invalid input. Oh, you did you run your conditions? Oh, you first ran the conditions first? Yes, I did run my conditions. You just leave the assumptions blank. Don't put any assumptions that you don't have conditions. If you didn't run the conditions evaluate cell only in this cell, right? Yes. Okay. I'm glad of that. I'm sorry. Okay. So I'm going to show you one more thing, actually. Let's say it. actually that's theta so that in condition yes is that theta greater than epsilon greater than zero yes mine was zero that's right okay so if you also just to show you i know we're still trying to so but in beginning of the salt like the entire salting this expression or actually i can write it again underneath let me say Let me say, let me actually suppress this and just say no, it's not we need those for this. It will actually show a bit more simplified. It can simplify things if you say. Things if you say full simplify, it's gonna like you know cancel terms and do things to make it more complex and commonly downloaded instead of just going to be a little bit more difficult. I think these are excellent. I want more. Okay, I'm just getting on. C D minus V B come on daily. Let me upload this to the shared folder so all of you can actually have that because it works. There is a short slide. I'm just gonna. I'm just gonna upload that in error error error. No, there is. One theory is it might be the tilde tilde. It might not be the same tilde tilde that's possibly that when I uploaded it and copy paste. Okay, so it is in the my notebook is in the shared folder. I think there is one so that's why it can be the tilde tilde maybe it's not the same it's not the tilde tilde maybe so just open the uh looks actually different it looks different right open the notebook and because I copied it from the online I think I think it's simple. Can you just open your notebook? I don't do that. It's a different sign, right? Okay, it's a different sign. I copied from here. If you go to mathematical documentation and click on it, it gives you the. Click on it, it gives you that. I will just change this. This is just common. Special characters are common. The first one, yeah. But I couldn't find it in my special characters, so it's a different looks like that. I hope it works after that. Yeah, it works. Let's compile it. That looks like a ponytail. Yeah, joint. It's actually not the joint together in the end. At the join together in the end, yeah, but I always like, as I said, I always like forget how expectation was written, mathematics because I always open the documentation and it just gives you the entire expression with one click. So that is usually how I write that. Okay, so that is the full simplify as well. So I simplify the solution. So it looks like not like this ugly now. looks like not like this ugly now but the solutions are more compact it's uh cleared out sorting terms and everything and i could have write like the full simplify outside of the soul too so like instead of this you can also do it in one go and just do the full simplify here around the problem itself and then i don't need this i think your output is longer than what Than you want, maybe it's the size of it. So let me delete the solutions and consolidate again. Yeah, you have to copy it. Is it longer? No, I think maybe they just are just two lines, but my equation for VA and VBR are on the first line. Okay, maybe just if I make this like. maybe just if i make this like larger it's just so i can do this so it's every solution in one line now but you can see we have four solutions actually easier to see one corner with uh like no fill this is no energy solution this is no renewable solution and this is the interior i actually don't like that last one the interior the one with the minus h ca cp A C P, let's see. Yeah, for me, why doesn't compile? No, you have two solutions actually. Yeah, I have two solutions here. I thought I had two solutions. It's a nice puzzle. Because we just like rubbing right now, and it gives the poor solutions. So I don't. Solutions, so I don't oh, maybe after you saw, like, did you use the clear? Maybe it's but it's the same code, right? Now I see it might be the clearing. Oh, this is not your code, it's my the one. Yeah, so if from my code, if you copy then it's the like line to maybe initialize and clear everything or type it, maybe because the earlier trials you were solving that like set somewhere. Accept some values to be, I don't know. But otherwise, and then you can check the conditions to see if there are anything different that's maybe not covered. So, if I it doesn't want what it doesn't compile my there is no compile, you just evaluate. You just evaluate evaluate doesn't function, it doesn't function. I have like evaluation function issue. No, I don't think might be something in the issue here. I don't know. But if I omit this, if I just run this, it doesn't give me any problem. And it doesn't give me any thoughts. Oh, I think I'm not sure. Just remote that and not produce the assumption. It should be okay. I see there's a missing. And you're you're missing the curly. You're missing the brackets. I think so. Because I mine is close to two graphics. Oh, I had to full simplify that. So okay. It runs now, right? Okay, perfect. Yeah, just go to the assumption. Yeah, my equation was incorrect. Sorry. So there you go. Oh yeah, it's yeah you can see oh it runs if you just won't see it because you have the semicolon. If you took the semicolon, it runs but it doesn't show the output. If you don't want to show the output every time you run the semicolon, it will. So what about this one? So, what about this one? That's it. If you remove that, it's uh we are so what you have the same column. So, we need to go so it shows that one, but the other one says like no, you can't see it's really actually fine. Okay, any other anybody else wants troubleshooting? I can't do copy paste. Paste copy from the equation that I wrote before. These are all solutions. Does everybody have solutions now? And four, hopefully, four, but yes, yes, of course. Why am I publishing this phone book? I show you in blue. You don't have any other group for the condition program. Yeah, I think it's because yours is from the online and mine is the on-the-desktop version, right? I'm running the program. So it has more functionality, I think, in the desktop. This is indeed a trial. Yeah, so maybe it's the... I don't know, Argyle. That's the only thing I can. No, before that. Square brackets, not this. And you need to also take the gamma, the whole stuff into a small bracket. Yeah, yeah. I can go into it. I can. And I did save the code in the shared folder too, so you can open it from there. I will like replace it with the newer version. I think I have it. They're just simplified in completely different ways. We don't have these ones. Now it's saying cell content has two large solutions. Yeah, just say Random Base. And you have to pose here with me. Oh. Okay. Okay. So the browser version is a little bit more, of course, slower than if you ran it in your own, like download Mathematica and run it on your own PC. When you're doing like more complex plots and stuff, browser might probably be not enough. So just run it in your, because it's not your CPU, then it uses something else I don't know browser. Trial version. Even with the trial, I think you can download. Try it, I think you can download and run it on your computer. Um, so my in my solution, it doesn't give the conditions, so you need to or their yeah, like it makes them compact. So, if you click on the condition and say unicornized, it starts showing them when they are long. It makes like remove them, but they appear if you like forces, and again, this is for the same solution, it's the same. Is for the same solution, it's the same condition, so you only need to iconize like one. Okay, so you can then, if we kind of wanted to take things out of this and like, you know, do maybe some analysis with them, I can like select with and like say I will play around with the interior solution, I can copy this. I can copy this and copy and you can write. So let's do a text so I know what we're doing. Let's say the interior solution. And then you can set, you know, here, if you want to like play around with it, like fuel interior, for example, solution to be that well. Solution to be that value, but you could also do instead of this, take it from if you know where exactly it falls. So let's even before this, so I can sort of. So, this is assigned to the solution, our solution. It's a matrix, right? It has four things. So, if you do Yeah, double double brackets. So you can go up and pick elements from there. So now I'm picking the first element, for example, of the solution, which gives me the first solution because there are like four. First solution because there are like four things there. So I want the interior, so I can go and select the fourth one, gives me the interior solution. And then in this, I can go ahead and like select the first one, which is my fuel capacity. And then you don't want to say conditions, you can just also take the solution, which I guess maybe not the first element there, but the second is the equation. Yeah. Second is the equation. Yeah. So you can get to Doch condition, but you can like pick elements out of this set as well by setting. But you can copy paste as well. Let's say this is our interior fuel solution and then maybe I have my renewable interior solution that I can take as well. And I'm just put the semicolons because I don't want them showing. Because I don't want them showing. So then I can check what my total energy is. It generally makes sense to put full simplify in front of everything. So just to make. And then you can actually look at spending, maybe total cost, invest. Total cost, investment cost for this is going to be again the times CA and then the renewable solution times its cost. So let's evaluate this. Only showing the last one. I will suppress that. Then you can't check your conditions and let's say. Conditions, and let's say if my demand increases, what happens to my total spending? It's possibly going to increase, right? I'm going to need more. Let me say derivatives as a plain text. So I'm going to need more energy as I spend more. So I can check those things here and take the derivatives of things. So if you say d, it's a derivative function. And I'll say the total cost, I want to take its derivative. And actually, whichever, like, you can does it display? Yeah, it shows you the kind of syntax that you want to use. Like, we are going to take for one variable, we just write the variable there. But if you want to take nth derivative, you can do it like that. You can do multiple, like partial derivatives, etc. And then let's say I will take the derivative with respect to my data. Respect to my data. So it just took its derivative. And this is, I can see that this is positive. So it means, of course, as demand increases, my cost is going to increase. What about like variability? Let's say that increase, what happens? Yeah, now it's not clear if this is positive or negative, go some direction, but you can check. Now, let's create a new cell. You can check which reduce. It shows you the conditions where a certain thing holds. And I could write the derivative inside here right away, but let's say cost variance, just assign something. So I'll use that. So I'll use that. And I can say here cost variance. Let's say I want to find the region where it's positive. Same with still that within my pyramid region. So I wanted to evaluate this where I ran the problem. If I evaluate that, it's like this again. It should work. I don't know why I couldn't add the pen and I'll check now. I see the syntax already. It's one expression.   Okay, it's worked out. Your condition is in black now. Yeah, yeah, it is in black now. Yeah, it's I know how it's in black. I don't know why it's. I guess it's only a ten now, it's this and it's in black now. I see it as well. Yes. But anyways, this is like now very long, of course, but Like now, very long, of course, but possibly there are other things we need to write here and check. But the style, whenever like the perimeter conditions, and if you plot it, it's more reasonable to see where it falls. There are things like you don't have much time, but check like region plot as a graph. Region plot plots to the like regions where certain conditions fall for parameters and plot. Now you can see like where, for example, demand variable. For example, demand variable that would actually be beneficial for what type of communities looking at your parameters or cost makes it reasonable to actually, I don't know, like variability that helps with your spending. Like, so demand variability is no longer a problem. But maybe in those type of conditions, you don't want to do demand response, right? Because it will reduce your variability. So if you see a region like that, you want to do less demand response or maybe even increase the variability. Maybe even increase the variability between day and night time. So, maybe you want to make them like force them to use more in the peak and stuff like that. So, those give you those insights. And again, you can, depending on how you want to check things, add like no more generators here, but different cost conditions and make your like penalties quadratic, for example, rather than using simple penalties. So it's like gives you opportunities to make it more and more complex. To make it more and more complex. This is just one example, though, to play around with it. The mod power putting we will use this. I just showed you how to solve like a set of equations, right? This was a KKT. But any sets of equations, you can solve with Mathematica using the solve format. So that's very powerful. And the derivative is actually it can take like derivatives of any expression you give. Expression you give first, second, third derivatives, and check whether each of them satisfies certain conditions. So, those are very powerful. Those we will probably use a lot. Do you think there are any typical meanings for different order of diversion? What do you mean? You can check the different order of diversion. Yeah, yeah, you can do the second derivative, third derivative for what? It's an expression, right? It's a function. So then, if you have the derivative, you can like usually do evaluate whether it's positive. So, your second or like Hessian is, for example, semi-definite, negative, semi-definite. So, you can check that. And yeah, I thought it bears some physical meaning. I mean, it does, like, not physical, but I guess mathematical meaning, yes. Okay, so I think we're kind of out of time too, but any questions? A lot of time too, but any questions, anything you're curious about, or something, I can focus. Yeah, how do you do a sanity chat? So you got all the legal expressions. How do you verify that? Or maybe there's a value, but the value. I mean, then it is like it's a second set of eyes, right? You already are doing this yourself, even like when you're characterizing these, and then if mathematically is reasonable, plots. Mathematically, reasonable plots always help, uh, adding like a lot of maths. But if I region plots and actually see the regions, I can evaluate whether it makes sense or not. And I can use numbers and run it numerically. So I can like say you can select. Yeah. Sorry, how did you know which one was the interior solution? The interior solution? Because it has like zeros for the Lagrange multipliers and then positive for the capacities. Yeah, I forgot which ones were there. So this is the inferior die selector. So it has like non-negative for both of the capacities and then it has zeros for both of the large multipliers. But then you can also do like non-numerical analysis as well. Analysis as well. So if I select, okay, I'll show one more thing. So conditions are in terms of the parameters, right? So if the parameters are in this region, this is the optimal. Yes. So that's the format of the solution. Yes. And I can even, you know, fix. So if I, you can initialize numbers and run a full numerical study, but if you just want to, you know, set just a few of the variables, and I can do things like this, and then maybe you know. Things like this, and then maybe you know, like your renewable or fuel costs. I don't know, like $3 or something. You can give values to them. And then it evaluates the entire thing, putting actually three for the fuel cost. And we can give more values. So, this is a parametric solution, it's a parametric solution. Yes, that's the power of it. You can do parametric things in general. This is very useful, and then you can. This is very useful. And then you can give, like, I don't know, maybe theta we know, like the demand is. You can do sensitivity now. Yeah, so with the derivatives, you can do sensitivity. And then also, again, show the regions where certain conditions hold or not. So it can plug those values and if you set your parameters to certain things. Now, this is like evaluating them at those values. Yes, it's well, then you can do this at anything like this at any level to this slash dot and networking means you assign whatever is next in the solution. I can like, you know, set more things here to like say fuel is like burning, feel is like, I don't know, dollar. Oh, I shouldn't touch it. I was typing your output as a command. Typing your output as a command. So then you can, I could also just show one more thing and then I will stop just as an example, and I'll save this as well. What is that bracket? 412. Oh, so that one takes double square brackets. Oh, yeah, double, double square bracket, yeah. So let's say plots. I'm not applying okay here. Yeah, I'm not applying okay. It's a little bit hard to interpret the parameters. There's maybe too many. Yeah, so you can set some of them, like, you know, if there are ones, you know, you can specify them or. You can specify them, or as my conditions, like in the beginning I wrote, it's still not too many. So, if you know more things, you can expand that to like restrict your perimeter spaces. Does it also create some kind of cloud? That's what I'm doing now, trying to plot the so maybe like the photo close maybe a little CB maybe changes. CB changes yeah from zero to I don't know five you just come over here so I could assign it here but I'll make it clearly okay I'm not if I see the If I say this, so it might not be a good defined function in that region, but yeah, I have to do some testing. I'm coming up with the numbers from Does this make any sense? Okay, I need to give something to everyone. Yeah, and then if I set some actually. Actually, let's do CB as well. Because I'm plotting for one vehicle, I need to set everything else. And he said field is more expensive than enabled, so let's do this. CA dialogue just copying the screen. Just copy this. Oh, these are my vitamins. Right. And I want all these guys to know. But it's probably. Perfect. So I can plot the say the penalty. Okay, so if I do something like this, for example, improvise, but you can plot things and you can even. Which is actually nice. That will be the final thing I show, and then I just see that. So, for total energy, why did you evaluate it at the beginning of the interior? Both of them, I was just checking the interior solution here. The total energy in the interior, but you cannot do other things if you want. I just wanted to do that region and maybe talk about that region and just show things there, but that's not the I had one code that I wrote at the plot manipulation that I'm trying to find. That's what I will show last, but Show last, but I don't know which one was it. Maybe in this one I and it doesn't work so much. Okay, it doesn't open for some reason, I don't know. I mean this session. Let's see. That sounds actually dull. Many plates and now let me say this is not approached and I'm gonna CA say one two five final CB goes from let's say I want to six this Yeah, the pull-out itself is Let's say this one is not long or something. Yeah, I'm trying to see what is like it's something in the syntaxes or the parameter values maybe. I'm not maybe you could remove that epsilon bracket to there okay so maybe it's the first one yeah manipulate lots yeah this is I'm gonna close this here I think. This is, I'm going to close this here, I think. First plot. Yeah, let's see like this. No more this plot closes there. Okay, more too many brackets. Okay, short with the Okay, sure. Um, that doesn't uh oh, yeah, this is not a role. Okay, we use one. Yes, so now you can actually like it's for some reason again not showing, but you can play around with the um values and the parameters and your plot supposed to actually change. Change, but did I miss something? I don't know why it's not evaluating here now, but English. You can check the syntax for the manipulator as well. We tried to do it on the spot and it's not showing now. Write the equation. And we are in the full time, so I don't want to take people's time more. People's time more. So let's have food. And if I can make that show, I will upload a new version of this with the manufactured showing as well. Thank you. Thank you. Well, that was my first time trying that bag. It's a nice technology. It's good to have in your arsenal, I think, just to. Your arsenal, I think, just to, and especially it's useful when you need to take a derivative of a really ugly expression and just do it. Or I mean, especially, you know, when you your solution changes with parameters, it's very tedious to usually, you know, try it by hand. And even finding, like, you know, how many different regions there are. Like, this is, this is easy to see here. We have four solutions, a set of possibilities, but you had more variables. You had more variables, like exactly which corners exist within that parameter set, which are viable, which are not very tedious. So the set this gives you a walkthrough and you see like six regions, you can write your proof mimicking that in a way. So it's secondary tool. That doesn't tell you everything, but it's helpful. How does Wolfram alpha differ? I don't know, I never use Wolfram, it's the older me, but I know people use Wolf. I know people use maple, yeah, yeah, Volphram alpha is based on, yeah, but this is also Volpram, right? So I think this isn't go like this with this one, you can also go continue to numerical solutions and you know, very, it has very evolved numerical methods as well that's embedded. So we use the theoretical functions, but there are also numerical things we can do. I don't think if I'll possibly dance. Yes, okay. So, thank you. Thank you. I see my home running office now is that I then go. And the exercise session in the afternoon, we are done with Mathematica, and here we will actually talk about integer variables and how.